/* =============================================================
 * Gmail Theme for SoGo — Mailcow
 * Generated: 2026-02-24T13:27:32Z
 *
 * DO NOT EDIT THIS FILE DIRECTLY.
 * Edit files in src/ and run build.sh to regenerate.
 * =============================================================
 */


/* === Gmail Design Tokens — CSS Custom Properties === */

:root {
  /* Font families */
  --gmail-font-primary: 'Roboto', 'RobotoDraft', 'Helvetica', 'Arial', sans-serif;
  --gmail-font-display: 'Google Sans', 'Roboto', 'Helvetica', 'Arial', sans-serif;

  /* Font sizes */
  --gmail-font-xs:   11px;
  --gmail-font-sm:   12px;
  --gmail-font-base: 14px;
  --gmail-font-md:   16px;
  --gmail-font-lg:   18px;
  --gmail-font-xl:   22px;

  /* Font weights */
  --gmail-weight-regular: 400;
  --gmail-weight-medium:  500;
  --gmail-weight-bold:    700;

  /* Line heights */
  --gmail-lh-tight:   1.2;
  --gmail-lh-normal:  1.5;
  --gmail-lh-relaxed: 1.75;

  /* Letter spacing */
  --gmail-ls-tight:  -0.01em;
  --gmail-ls-normal: 0;
  --gmail-ls-wide:   0.025em;

  /* Spacing scale */
  --gmail-space-xxs:  2px;
  --gmail-space-xs:   4px;
  --gmail-space-sm:   8px;
  --gmail-space-md:   12px;
  --gmail-space-base: 16px;
  --gmail-space-lg:   20px;
  --gmail-space-xl:   24px;
  --gmail-space-xxl:  32px;

  /* Layout dimensions */
  --gmail-header-height:                   64px;
  --gmail-sidebar-width:                   256px;
  --gmail-sidebar-collapsed:               72px;
  --gmail-compose-width:                   566px;
  --gmail-compose-height:                  500px;
  --gmail-message-row-height:              40px;
  --gmail-message-row-height-comfortable:  52px;
  --gmail-message-row-height-default:      44px;

  /* Border radius */
  --gmail-radius-none: 0;
  --gmail-radius-sm:   4px;
  --gmail-radius-md:   8px;
  --gmail-radius-lg:   16px;
  --gmail-radius-pill: 24px;
  --gmail-radius-full: 50%;

  /* Shadows */
  --gmail-shadow-none:   none;
  --gmail-shadow-sm:     0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);
  --gmail-shadow-md:     0 1px 3px 0 rgba(60,64,67,0.3), 0 4px 8px 3px rgba(60,64,67,0.15);
  --gmail-shadow-lg:     0 4px 8px 0 rgba(60,64,67,0.3), 0 8px 16px 4px rgba(60,64,67,0.15);
  --gmail-shadow-header: 0 3px 6px rgba(0,0,0,0.05);

  /* Surface colors */
  --gmail-bg-primary:     #ffffff;
  --gmail-bg-secondary:   #f6f8fc;
  --gmail-bg-tertiary:    #f1f3f4;
  --gmail-bg-hover:       rgba(32,33,36,0.059);
  --gmail-bg-active:      #e8f0fe;
  --gmail-bg-compose-btn: #c2e7ff;

  /* Text colors */
  --gmail-text-primary:    #202124;
  --gmail-text-secondary:  #5f6368;
  --gmail-text-tertiary:   #80868b;
  --gmail-text-link:       #1a73e8;
  --gmail-text-on-primary: #ffffff;
  --gmail-text-error:      #d93025;

  /* Border colors */
  --gmail-border-default: #e8eaed;
  --gmail-border-focus:   #1a73e8;

  /* Icon colors */
  --gmail-icon-default:   #5f6368;
  --gmail-icon-active:    #1a73e8;
  --gmail-icon-star:      #f4b400;
  --gmail-icon-important: #f4b400;

  /* Message state */
  --gmail-unread-bg:  #ffffff;
  --gmail-read-bg:    #f2f6fc;

  /* Transitions */
  --gmail-transition-fast:   0.15s ease;
  --gmail-transition-normal: 0.2s ease;
}

/* Global font reset */
body,
.sg-app,
[ng-app] {
  font-family: var(--gmail-font-primary) !important;
  color: var(--gmail-text-primary) !important;
  background-color: var(--gmail-bg-secondary) !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Box-sizing reset */
*,
*::before,
*::after {
  box-sizing: border-box !important;
}

/* Remove default Angular Material green tints from backgrounds */
md-content,
.md-default-theme md-content {
  background-color: var(--gmail-bg-primary) !important;
  color: var(--gmail-text-primary) !important;
}


/* === Buttons & Interactive Controls === */

/* Base button reset */
.md-button,
md-button,
button {
  font-family: var(--gmail-font-primary) !important;
  text-transform: none !important;
  letter-spacing: var(--gmail-ls-wide) !important;
  font-weight: var(--gmail-weight-medium) !important;
  border-radius: var(--gmail-radius-sm) !important;
  transition: background-color var(--gmail-transition-fast),
              box-shadow var(--gmail-transition-fast) !important;
}

/* Primary raised button (e.g. login button) */
.md-button.md-primary.md-raised,
.md-button.md-accent.md-raised {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
  box-shadow: var(--gmail-shadow-sm) !important;
  border-radius: var(--gmail-radius-sm) !important;
}

.md-button.md-primary.md-raised:hover,
.md-button.md-accent.md-raised:hover {
  background-color: #1765cc !important;
  box-shadow: var(--gmail-shadow-md) !important;
}

/* Flat/text buttons */
.md-button.md-primary:not(.md-raised),
.md-button[md-theme="default"]:not(.md-raised) {
  color: var(--gmail-text-link) !important;
}

.md-button:not(.md-raised):not(.md-fab):hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* FAB / Compose button → pill shape */
.md-button.md-fab,
md-sidenav .md-fab,
.sg-compose-fab,
[ng-click*="compose"].md-fab {
  background-color: var(--gmail-bg-compose-btn) !important;
  color: var(--gmail-text-primary) !important;
  border-radius: var(--gmail-radius-pill) !important;
  box-shadow: var(--gmail-shadow-sm) !important;
  width: auto !important;
  height: 56px !important;
  min-width: 56px !important;
  padding: 0 24px 0 16px !important;
  line-height: 56px !important;
}

.md-button.md-fab:hover,
md-sidenav .md-fab:hover {
  box-shadow: var(--gmail-shadow-md) !important;
  background-color: #b4d7f5 !important;
}

/* Icon buttons in toolbars */
md-toolbar .md-icon-button,
md-toolbar .md-button.md-icon-button {
  border-radius: var(--gmail-radius-full) !important;
  width: 40px !important;
  height: 40px !important;
  padding: 0 !important;
  min-width: 40px !important;
  line-height: 40px !important;
}

md-toolbar .md-icon-button:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* Send button in compose */
.sg-compose-dialog .sg-send-button,
md-dialog.sg-compose [ng-click*="send"],
[ui-view*="compose"] [ng-click*="send"] {
  background-color: #0b57d0 !important;
  color: var(--gmail-text-on-primary) !important;
  border-radius: var(--gmail-radius-pill) !important;
  padding: 0 var(--gmail-space-xl) !important;
  height: 36px !important;
  line-height: 36px !important;
  font-weight: var(--gmail-weight-medium) !important;
}

.sg-compose-dialog .sg-send-button:hover,
md-dialog.sg-compose [ng-click*="send"]:hover {
  background-color: #0a4bbf !important;
}

/* Chip / tag buttons */
md-chip,
.md-chip {
  background-color: var(--gmail-bg-tertiary) !important;
  color: var(--gmail-text-primary) !important;
  border-radius: var(--gmail-radius-pill) !important;
  font-size: var(--gmail-font-sm) !important;
}


/* === Header / Top Bar (Phase 2) === */

/* Main toolbar: white, subtle bottom shadow */
md-toolbar,
md-toolbar.md-default-theme,
.md-default-theme md-toolbar,
md-toolbar[md-theme="default"],
md-toolbar.sg-toolbar-main,
.sg-top-navbar {
  background-color: var(--gmail-bg-primary) !important;
  color: var(--gmail-text-primary) !important;
  box-shadow: var(--gmail-shadow-header) !important;
  min-height: var(--gmail-header-height) !important;
  max-height: var(--gmail-header-height) !important;
}

.md-toolbar-tools {
  height: var(--gmail-header-height) !important;
  max-height: var(--gmail-header-height) !important;
  padding: 0 var(--gmail-space-base) !important;
  color: var(--gmail-text-primary) !important;
}

/* App logo / branding area */
md-toolbar .sg-logo,
md-toolbar .app-logo,
md-toolbar h1,
md-toolbar .md-toolbar-tools h2 {
  font-family: var(--gmail-font-display) !important;
  font-size: var(--gmail-font-xl) !important;
  font-weight: var(--gmail-weight-regular) !important;
  color: var(--gmail-text-secondary) !important;
  letter-spacing: var(--gmail-ls-tight) !important;
  margin: 0 !important;
}

/* Hamburger / menu toggle */
md-toolbar .md-button[menu-toggle],
md-toolbar .md-button[ng-click*="toggle"],
md-toolbar .md-button[aria-label*="menu"],
md-toolbar .md-button[aria-label*="Menu"] {
  border-radius: var(--gmail-radius-full) !important;
  color: var(--gmail-icon-default) !important;
}

/* ── Search Bar ── */
md-toolbar md-autocomplete,
md-toolbar .sg-search-field,
md-toolbar form[name*="search"],
md-toolbar input[type="search"],
md-toolbar input[type="text"].sg-search,
.sg-search-input-container {
  background-color: var(--gmail-bg-tertiary) !important;
  border-radius: var(--gmail-radius-pill) !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 var(--gmail-space-base) !important;
  height: 48px !important;
  max-width: 720px !important;
  width: 100% !important;
  margin: 0 auto !important;
  transition: background-color var(--gmail-transition-normal),
              box-shadow var(--gmail-transition-normal) !important;
}

md-toolbar md-autocomplete:focus-within,
md-toolbar .sg-search-field:focus-within,
md-toolbar input[type="search"]:focus,
.sg-search-input-container:focus-within {
  background-color: var(--gmail-bg-primary) !important;
  box-shadow: var(--gmail-shadow-sm) !important;
}

/* Search input text */
md-toolbar md-autocomplete input,
md-toolbar input[type="search"],
md-toolbar .sg-search-field input {
  background: transparent !important;
  border: none !important;
  outline: none !important;
  font-size: var(--gmail-font-base) !important;
  color: var(--gmail-text-primary) !important;
  width: 100% !important;
  height: 100% !important;
  padding: 0 !important;
}

md-toolbar md-autocomplete input::placeholder,
md-toolbar input[type="search"]::placeholder {
  color: var(--gmail-text-secondary) !important;
}

/* Search icon */
md-toolbar .sg-search-field md-icon,
md-toolbar md-autocomplete md-icon,
md-toolbar .search-icon {
  color: var(--gmail-icon-default) !important;
}

/* Autocomplete dropdown */
md-autocomplete-wrap md-virtual-repeat-container,
.md-autocomplete-suggestions-container {
  background-color: var(--gmail-bg-primary) !important;
  border-radius: var(--gmail-radius-md) !important;
  box-shadow: var(--gmail-shadow-md) !important;
  margin-top: var(--gmail-space-xs) !important;
}

.md-autocomplete-suggestions li {
  font-size: var(--gmail-font-base) !important;
  color: var(--gmail-text-primary) !important;
  padding: var(--gmail-space-sm) var(--gmail-space-base) !important;
}

.md-autocomplete-suggestions li:hover,
.md-autocomplete-suggestions li.selected {
  background-color: var(--gmail-bg-hover) !important;
}

/* Header icons (settings, help, grid, avatar) */
md-toolbar md-icon,
md-toolbar .md-button md-icon {
  color: var(--gmail-icon-default) !important;
}

md-toolbar .md-button:hover md-icon {
  color: var(--gmail-text-primary) !important;
}

/* User avatar circle in header */
md-toolbar sg-avatar,
md-toolbar .sg-avatar,
md-toolbar .user-avatar,
md-toolbar [sg-avatar] {
  width: 32px !important;
  height: 32px !important;
  border-radius: var(--gmail-radius-full) !important;
  cursor: pointer !important;
}

md-toolbar sg-avatar img,
md-toolbar .sg-avatar img {
  border-radius: var(--gmail-radius-full) !important;
  width: 32px !important;
  height: 32px !important;
}

/* Notification badges on header icons */
md-toolbar .md-badge,
md-toolbar .sg-badge {
  background-color: #d93025 !important;
  color: var(--gmail-text-on-primary) !important;
  font-size: var(--gmail-font-xs) !important;
  border-radius: var(--gmail-radius-full) !important;
  min-width: 16px !important;
  height: 16px !important;
  line-height: 16px !important;
  padding: 0 var(--gmail-space-xxs) !important;
}


/* === Sidebar / Navigation (Phase 3) === */

/* ── Sidenav Container ── */
md-sidenav,
md-sidenav.md-default-theme,
.md-default-theme md-sidenav,
.sg-sidenav,
[component="sidenav"] {
  background-color: var(--gmail-bg-primary) !important;
  border-right: none !important;
  box-shadow: none !important;
  width: var(--gmail-sidebar-width) !important;
  min-width: var(--gmail-sidebar-width) !important;
}

/* ── Compose Button ── */
md-sidenav .md-fab,
md-sidenav .md-button.md-fab,
md-sidenav [ng-click*="compose"],
md-sidenav [ng-click*="newMessage"],
md-sidenav [ng-click*="new-message"],
.sg-compose-fab,
.sg-fab-button {
  background-color: var(--gmail-bg-compose-btn) !important;
  color: var(--gmail-text-primary) !important;
  border-radius: var(--gmail-radius-pill) !important;
  box-shadow: var(--gmail-shadow-sm) !important;
  height: 56px !important;
  min-width: 140px !important;
  width: auto !important;
  padding: 0 24px 0 16px !important;
  margin: var(--gmail-space-base) var(--gmail-space-md) var(--gmail-space-base) var(--gmail-space-base) !important;
  font-family: var(--gmail-font-display) !important;
  font-size: var(--gmail-font-base) !important;
  font-weight: var(--gmail-weight-medium) !important;
  text-transform: none !important;
  letter-spacing: 0.01em !important;
  line-height: 56px !important;
  display: flex !important;
  align-items: center !important;
  gap: var(--gmail-space-sm) !important;
  transition: box-shadow var(--gmail-transition-normal),
              background-color var(--gmail-transition-normal) !important;
}

md-sidenav .md-fab:hover,
md-sidenav [ng-click*="compose"]:hover,
.sg-compose-fab:hover {
  box-shadow: var(--gmail-shadow-md) !important;
  background-color: #b4d7f5 !important;
}

md-sidenav .md-fab md-icon,
.sg-compose-fab md-icon {
  color: var(--gmail-text-primary) !important;
  font-size: 24px !important;
}

/* ── Folder / Mailbox List ── */
md-sidenav md-list,
.sg-folder-list,
[sg-folder-list] {
  padding: var(--gmail-space-xs) 0 !important;
}

/* Individual folder items */
md-sidenav md-list-item,
md-sidenav md-list-item.md-default-theme,
.sg-folder-list md-list-item,
.sg-folder-list li,
[sg-folder-list] md-list-item {
  height: 32px !important;
  min-height: 32px !important;
  border-radius: 0 var(--gmail-radius-pill) var(--gmail-radius-pill) 0 !important;
  margin-right: var(--gmail-space-md) !important;
  margin-left: 0 !important;
  padding-left: var(--gmail-space-xl) !important;
  font-size: var(--gmail-font-sm) !important;
  font-weight: var(--gmail-weight-medium) !important;
  letter-spacing: var(--gmail-ls-wide) !important;
  color: var(--gmail-text-secondary) !important;
  cursor: pointer !important;
  transition: background-color var(--gmail-transition-fast) !important;
  overflow: hidden !important;
}

md-sidenav md-list-item .md-list-item-inner,
.sg-folder-list md-list-item .md-list-item-inner {
  padding: 0 !important;
  min-height: 32px !important;
  height: 32px !important;
}

/* Hover state */
md-sidenav md-list-item:hover,
.sg-folder-list md-list-item:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* Active / selected folder */
md-sidenav md-list-item.sg-active,
md-sidenav md-list-item[selected],
md-sidenav md-list-item.selected,
md-sidenav md-list-item.active,
.sg-folder-list .md-active,
.sg-folder-list md-list-item.sg-active,
.sg-folder-list li.selected {
  background-color: var(--gmail-bg-active) !important;
  color: var(--gmail-text-link) !important;
  font-weight: var(--gmail-weight-bold) !important;
}

md-sidenav md-list-item.sg-active md-icon,
md-sidenav md-list-item.selected md-icon,
md-sidenav md-list-item.active md-icon,
.sg-folder-list .md-active md-icon {
  color: var(--gmail-icon-active) !important;
}

/* Folder icons */
md-sidenav md-list-item md-icon,
.sg-folder-list md-list-item md-icon {
  color: var(--gmail-icon-default) !important;
  font-size: 20px !important;
  width: 20px !important;
  height: 20px !important;
  min-width: 20px !important;
  margin-right: var(--gmail-space-base) !important;
  flex-shrink: 0 !important;
}

/* Unread count badges */
md-sidenav .sg-folder-count,
md-sidenav .unread-count,
md-sidenav .sg-badge,
.sg-folder-list .sg-count {
  color: var(--gmail-text-primary) !important;
  font-weight: var(--gmail-weight-bold) !important;
  font-size: var(--gmail-font-xs) !important;
  margin-left: auto !important;
  margin-right: var(--gmail-space-md) !important;
}

/* Selected folder — count stays dark */
md-sidenav md-list-item.sg-active .sg-folder-count,
md-sidenav md-list-item.selected .unread-count {
  color: var(--gmail-text-link) !important;
}

/* ── Section Separators ── */
md-sidenav md-divider,
.sg-folder-list md-divider {
  border-top-color: var(--gmail-border-default) !important;
  margin: var(--gmail-space-xs) 0 !important;
}

/* ── Folder Section Labels (e.g. "Labels") ── */
md-sidenav .sg-section-label,
md-sidenav .folder-group-label,
.sg-folder-list .group-title {
  font-size: var(--gmail-font-xs) !important;
  font-weight: var(--gmail-weight-medium) !important;
  color: var(--gmail-text-secondary) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.08em !important;
  padding: var(--gmail-space-sm) var(--gmail-space-xl) var(--gmail-space-xs) !important;
  margin-top: var(--gmail-space-sm) !important;
}

/* ── "More" expand link ── */
md-sidenav .sg-more-link,
.sg-folder-list [ng-click*="more"],
.sg-folder-list [ng-click*="toggle"] {
  color: var(--gmail-text-secondary) !important;
  font-size: var(--gmail-font-sm) !important;
  font-weight: var(--gmail-weight-medium) !important;
  padding-left: var(--gmail-space-xl) !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  gap: var(--gmail-space-sm) !important;
  cursor: pointer !important;
}

.sg-folder-list [ng-click*="more"]:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* ── Label color dots ── */
md-sidenav .sg-label-color,
.sg-folder-list .label-color-dot {
  width: 8px !important;
  height: 8px !important;
  border-radius: var(--gmail-radius-full) !important;
  flex-shrink: 0 !important;
  margin-right: var(--gmail-space-md) !important;
}

/* ── Sidebar collapsed state ── */
md-sidenav.md-closed ~ * md-content,
.sg-sidebar-collapsed md-sidenav {
  width: var(--gmail-sidebar-collapsed) !important;
  min-width: var(--gmail-sidebar-collapsed) !important;
}

/* Storage quota bar (bottom of sidebar) */
.sg-quota-bar,
md-sidenav .quota {
  padding: var(--gmail-space-base) !important;
  font-size: var(--gmail-font-xs) !important;
  color: var(--gmail-text-tertiary) !important;
}

.sg-quota-bar md-progress-linear,
.quota .md-bar {
  background-color: var(--gmail-border-default) !important;
  border-radius: var(--gmail-radius-sm) !important;
}

.sg-quota-bar md-progress-linear .md-bar2,
.quota .md-bar2 {
  background-color: #1a73e8 !important;
  border-radius: var(--gmail-radius-sm) !important;
}


/* === Message List / Inbox (Phase 4) === */

/* ── List Container ── */
.sg-mail-list,
[sg-mail-list],
.mailer_mailbox-list,
md-virtual-repeat-container.sg-mail-list {
  background-color: var(--gmail-bg-primary) !important;
  border-right: 1px solid var(--gmail-border-default) !important;
}

/* ── Toolbar above message list (select-all, refresh, pagination) ── */
.sg-toolbar-secondary,
.sg-list-toolbar,
.mailer_mailbox-toolbar {
  background-color: var(--gmail-bg-primary) !important;
  border-bottom: 1px solid var(--gmail-border-default) !important;
  height: 56px !important;
  min-height: 56px !important;
  padding: 0 var(--gmail-space-base) !important;
  display: flex !important;
  align-items: center !important;
  gap: var(--gmail-space-xs) !important;
}

.sg-toolbar-secondary md-icon,
.sg-list-toolbar md-icon {
  color: var(--gmail-icon-default) !important;
}

.sg-toolbar-secondary .md-button,
.sg-list-toolbar .md-button {
  border-radius: var(--gmail-radius-full) !important;
  color: var(--gmail-icon-default) !important;
  min-width: 40px !important;
  width: 40px !important;
  height: 40px !important;
  padding: 0 !important;
  line-height: 40px !important;
}

.sg-toolbar-secondary .md-button:hover,
.sg-list-toolbar .md-button:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* Pagination text */
.sg-toolbar-secondary .sg-pagination,
.sg-list-toolbar .pagination-info {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
  margin-left: auto !important;
}

/* ── Individual Message Row ── */
.sg-mail-list md-list-item,
.sg-mail-list .sg-mail-list-item,
.mailer_mailbox-list md-list-item,
md-virtual-repeat-container md-list-item,
.sg-mail-row {
  height: var(--gmail-message-row-height-default) !important;
  min-height: var(--gmail-message-row-height-default) !important;
  border-bottom: none !important;
  border-top: none !important;
  padding: 0 var(--gmail-space-base) 0 var(--gmail-space-sm) !important;
  font-size: var(--gmail-font-sm) !important;
  cursor: pointer !important;
  transition: box-shadow 0.08s ease !important;
  position: relative !important;
}

.sg-mail-list md-list-item .md-list-item-inner,
.sg-mail-list .sg-mail-list-item .md-list-item-inner {
  padding: 0 !important;
  height: var(--gmail-message-row-height-default) !important;
  min-height: var(--gmail-message-row-height-default) !important;
  display: flex !important;
  align-items: center !important;
  width: 100% !important;
}

/* Row hover: Gmail's floating shadow effect */
.sg-mail-list md-list-item:hover,
.mailer_mailbox-list md-list-item:hover {
  box-shadow:
    inset 1px 0 0 var(--gmail-border-default),
    inset -1px 0 0 var(--gmail-border-default),
    0 0 4px 0 rgba(60,64,67,0.15),
    0 2px 3px 0 rgba(60,64,67,0.1) !important;
  z-index: 1 !important;
}

/* ── Unread message ── */
.sg-mail-list md-list-item.unread,
.sg-mail-list md-list-item[data-is-read="false"],
.sg-mail-list .sg-unread,
.mailer_mailbox-list md-list-item.sg-unread {
  background-color: var(--gmail-unread-bg) !important;
}

.sg-mail-list md-list-item.unread .sg-sender,
.sg-mail-list md-list-item.unread .sg-subject,
.sg-mail-list .sg-unread .sg-sender,
.sg-mail-list .sg-unread .sg-subject {
  font-weight: var(--gmail-weight-bold) !important;
  color: var(--gmail-text-primary) !important;
}

/* ── Read message ── */
.sg-mail-list md-list-item:not(.unread):not(.sg-selected),
.sg-mail-list md-list-item[data-is-read="true"],
.mailer_mailbox-list md-list-item:not(.sg-unread) {
  background-color: var(--gmail-read-bg) !important;
}

.sg-mail-list md-list-item:not(.unread) .sg-sender,
.sg-mail-list md-list-item:not(.unread) .sg-subject {
  font-weight: var(--gmail-weight-regular) !important;
  color: var(--gmail-text-secondary) !important;
}

/* ── Selected message row ── */
.sg-mail-list md-list-item.sg-selected,
.sg-mail-list md-list-item[selected],
.sg-mail-list md-list-item.selected,
.mailer_mailbox-list .sg-selected {
  background-color: var(--gmail-bg-compose-btn) !important;
}

/* ── Checkbox ── */
.sg-mail-list md-checkbox,
.sg-mail-list .md-checkbox,
.sg-mail-row md-checkbox {
  margin: 0 var(--gmail-space-xs) 0 0 !important;
  flex-shrink: 0 !important;
}

.sg-mail-list md-checkbox .md-icon {
  border-color: var(--gmail-icon-default) !important;
  border-radius: var(--gmail-radius-sm) !important;
}

.sg-mail-list md-checkbox.md-checked .md-icon {
  background-color: var(--gmail-icon-active) !important;
  border-color: var(--gmail-icon-active) !important;
}

/* ── Star icon ── */
.sg-mail-list .sg-star,
.sg-mail-list .sg-flag-message,
.sg-mail-list [ng-click*="star"],
.sg-mail-list md-icon.sg-star {
  color: var(--gmail-border-default) !important;
  font-size: 18px !important;
  flex-shrink: 0 !important;
  cursor: pointer !important;
  margin: 0 var(--gmail-space-xs) !important;
  transition: color var(--gmail-transition-fast) !important;
}

.sg-mail-list .sg-star.active,
.sg-mail-list .sg-star.flagged,
.sg-mail-list [ng-click*="star"].active,
.sg-mail-list md-icon.sg-star[data-starred="true"] {
  color: var(--gmail-icon-star) !important;
}

.sg-mail-list .sg-star:hover {
  color: var(--gmail-icon-star) !important;
}

/* ── Sender name column ── */
.sg-mail-list .sg-sender,
.sg-mail-list .sg-from,
.sg-mail-list .sender-name {
  font-size: var(--gmail-font-sm) !important;
  min-width: 160px !important;
  max-width: 200px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  flex-shrink: 0 !important;
}

/* ── Subject + snippet ── */
.sg-mail-list .sg-subject,
.sg-mail-list .subject-line {
  flex: 1 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-primary) !important;
}

.sg-mail-list .sg-subject-snippet,
.sg-mail-list .sg-message-snippet,
.sg-mail-list .snippet {
  color: var(--gmail-text-tertiary) !important;
  font-weight: var(--gmail-weight-regular) !important;
}

/* Snippet separator */
.sg-mail-list .sg-subject-snippet::before,
.sg-mail-list .snippet::before {
  content: ' – ' !important;
  color: var(--gmail-text-tertiary) !important;
}

/* ── Date column ── */
.sg-mail-list .sg-date,
.sg-mail-list .sg-message-date,
.sg-mail-list .date-column {
  font-size: var(--gmail-font-xs) !important;
  color: var(--gmail-text-secondary) !important;
  white-space: nowrap !important;
  flex-shrink: 0 !important;
  margin-left: var(--gmail-space-sm) !important;
}

.sg-mail-list md-list-item.unread .sg-date,
.sg-mail-list .sg-unread .sg-date {
  font-weight: var(--gmail-weight-bold) !important;
  color: var(--gmail-text-primary) !important;
}

/* ── Attachment indicator ── */
.sg-mail-list .sg-attachment,
.sg-mail-list md-icon.attachment,
.sg-mail-list .has-attachment {
  font-size: 16px !important;
  color: var(--gmail-icon-default) !important;
  margin-left: var(--gmail-space-xs) !important;
  flex-shrink: 0 !important;
}

/* ── Important marker (yellow bookmark) ── */
.sg-mail-list .sg-important,
.sg-mail-list .important-marker {
  color: var(--gmail-icon-important) !important;
  font-size: 16px !important;
  flex-shrink: 0 !important;
}

/* ── Empty inbox state ── */
.sg-mail-list .sg-empty,
.sg-mail-list .empty-state,
.mailer_mailbox-list .empty-mailbox {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: var(--gmail-space-xxl) !important;
  color: var(--gmail-text-secondary) !important;
  font-size: var(--gmail-font-base) !important;
}

/* ── Loading spinner ── */
md-progress-circular,
.sg-mail-list md-progress-circular {
  stroke: #1a73e8 !important;
}

/* ── Virtual scroll container ── */
md-virtual-repeat-container {
  background-color: var(--gmail-bg-primary) !important;
}


/* === Message Detail / Reading Pane (Phase 5) === */

/* ── Detail View Container ── */
.sg-mail-detail,
[sg-mail-detail],
.mailer_message-view,
.sg-message-view {
  background-color: var(--gmail-bg-primary) !important;
  overflow-y: auto !important;
}

/* ── Subject / Title Header ── */
.sg-message-header,
.sg-mail-detail .msg-header,
.mailer_message-view .message-header,
.sg-message-subject-bar {
  padding: var(--gmail-space-xl) var(--gmail-space-xl) var(--gmail-space-base) !important;
  border-bottom: none !important;
}

.sg-message-header h2,
.sg-message-header h3,
.sg-message-header .subject,
.sg-mail-detail .subject,
.sg-subject-line {
  font-family: var(--gmail-font-display) !important;
  font-size: var(--gmail-font-xl) !important;
  font-weight: var(--gmail-weight-regular) !important;
  color: var(--gmail-text-primary) !important;
  line-height: var(--gmail-lh-tight) !important;
  margin: 0 0 var(--gmail-space-base) 0 !important;
  word-break: break-word !important;
}

/* Labels/tags on subject line */
.sg-message-header .sg-tag,
.sg-message-header .sg-label {
  display: inline-block !important;
  background-color: var(--gmail-bg-tertiary) !important;
  color: var(--gmail-text-secondary) !important;
  font-size: var(--gmail-font-xs) !important;
  padding: 2px var(--gmail-space-sm) !important;
  border-radius: var(--gmail-radius-pill) !important;
  margin-left: var(--gmail-space-xs) !important;
  vertical-align: middle !important;
}

/* ── Message / Thread Item ── */
.sg-thread-message,
.sg-message-item,
.mailer_message-view .message-body-container {
  border-top: 1px solid var(--gmail-border-default) !important;
  margin: 0 var(--gmail-space-xl) !important;
  padding: var(--gmail-space-base) 0 !important;
}

.sg-thread-message:first-child,
.sg-message-item:first-child {
  border-top: none !important;
}

/* ── Sender Info Row ── */
.sg-message-sender,
.sg-mail-detail .sender-row,
.message-sender-info {
  display: flex !important;
  align-items: flex-start !important;
  gap: var(--gmail-space-md) !important;
  padding: var(--gmail-space-base) 0 var(--gmail-space-sm) !important;
}

/* Sender avatar */
.sg-message-sender sg-avatar,
.sg-message-sender .sg-avatar,
.sg-message-sender .md-avatar,
.message-sender-info .sg-avatar {
  width: 40px !important;
  height: 40px !important;
  min-width: 40px !important;
  border-radius: var(--gmail-radius-full) !important;
  flex-shrink: 0 !important;
  background-color: #1a73e8 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: var(--gmail-text-on-primary) !important;
  font-size: var(--gmail-font-base) !important;
  font-weight: var(--gmail-weight-medium) !important;
  overflow: hidden !important;
}

.sg-message-sender sg-avatar img,
.sg-message-sender .sg-avatar img {
  border-radius: var(--gmail-radius-full) !important;
  width: 40px !important;
  height: 40px !important;
}

/* Sender name and email */
.sg-message-sender .sg-sender-name,
.sender-row .from-name {
  font-size: var(--gmail-font-sm) !important;
  font-weight: var(--gmail-weight-bold) !important;
  color: var(--gmail-text-primary) !important;
  line-height: 1.4 !important;
}

.sg-message-sender .sg-sender-email,
.sender-row .from-email {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
}

/* Date in sender row */
.sg-message-sender .sg-message-date,
.sender-row .message-time {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
  margin-left: auto !important;
  white-space: nowrap !important;
}

/* Action buttons (Reply, Forward, More) next to date */
.sg-message-sender .sg-message-actions,
.sender-row .message-actions {
  display: flex !important;
  gap: var(--gmail-space-xs) !important;
  flex-shrink: 0 !important;
}

.sg-message-sender .sg-message-actions .md-button,
.sender-row .message-actions .md-button {
  border-radius: var(--gmail-radius-full) !important;
  color: var(--gmail-icon-default) !important;
  width: 36px !important;
  height: 36px !important;
  padding: 0 !important;
  min-width: 36px !important;
  line-height: 36px !important;
}

/* ── Message Body ── */
.sg-message-body,
.sg-mail-detail .msg-body,
.mailer_message-view .message-content,
.sg-message-content {
  padding: var(--gmail-space-sm) 0 var(--gmail-space-xl) !important;
  font-size: var(--gmail-font-base) !important;
  line-height: var(--gmail-lh-relaxed) !important;
  color: var(--gmail-text-primary) !important;
  word-break: break-word !important;
}

/* Plain text messages */
.sg-message-body pre,
.sg-message-content pre {
  font-family: 'Roboto Mono', 'Courier New', monospace !important;
  font-size: var(--gmail-font-sm) !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
}

/* Message links */
.sg-message-body a,
.sg-message-content a {
  color: var(--gmail-text-link) !important;
}

/* ── Attachment Area ── */
.sg-attachment-list,
.sg-mail-detail .attachments {
  border-top: 1px solid var(--gmail-border-default) !important;
  padding: var(--gmail-space-base) 0 !important;
  display: flex !important;
  flex-wrap: wrap !important;
  gap: var(--gmail-space-sm) !important;
}

.sg-attachment-item,
.sg-mail-detail .attachment-chip {
  display: flex !important;
  align-items: center !important;
  gap: var(--gmail-space-sm) !important;
  background-color: var(--gmail-bg-tertiary) !important;
  border: 1px solid var(--gmail-border-default) !important;
  border-radius: var(--gmail-radius-md) !important;
  padding: var(--gmail-space-sm) var(--gmail-space-base) !important;
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-primary) !important;
  cursor: pointer !important;
  transition: background-color var(--gmail-transition-fast) !important;
}

.sg-attachment-item:hover {
  background-color: var(--gmail-bg-hover) !important;
}

.sg-attachment-item md-icon {
  color: var(--gmail-icon-default) !important;
  font-size: 20px !important;
}

/* ── Reply Box ── */
.sg-reply-box,
.sg-message-reply,
.sg-mail-detail .reply-placeholder {
  border: 1px solid var(--gmail-border-default) !important;
  border-radius: var(--gmail-radius-md) !important;
  margin: var(--gmail-space-base) 0 var(--gmail-space-xxl) !important;
  padding: var(--gmail-space-md) var(--gmail-space-base) !important;
  cursor: text !important;
  color: var(--gmail-text-tertiary) !important;
  font-size: var(--gmail-font-sm) !important;
  transition: box-shadow var(--gmail-transition-fast),
              border-color var(--gmail-transition-fast) !important;
  background-color: var(--gmail-bg-primary) !important;
  box-shadow: var(--gmail-shadow-sm) !important;
}

.sg-reply-box:hover,
.sg-message-reply:hover {
  box-shadow: var(--gmail-shadow-md) !important;
}

.sg-reply-box:focus-within,
.sg-message-reply:focus-within {
  border-color: var(--gmail-border-focus) !important;
  box-shadow: 0 0 0 1px var(--gmail-border-focus) !important;
}

/* Reply/Forward quick action buttons */
.sg-message-quick-reply,
.sg-quick-actions {
  display: flex !important;
  gap: var(--gmail-space-sm) !important;
  padding: var(--gmail-space-base) 0 !important;
}

.sg-message-quick-reply .md-button,
.sg-quick-actions .md-button {
  border: 1px solid var(--gmail-border-default) !important;
  border-radius: var(--gmail-radius-sm) !important;
  color: var(--gmail-text-secondary) !important;
  font-size: var(--gmail-font-sm) !important;
  height: 36px !important;
  padding: 0 var(--gmail-space-base) !important;
}

.sg-message-quick-reply .md-button:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* ── Collapsed thread messages ── */
.sg-thread-collapsed,
.sg-thread-message.collapsed {
  cursor: pointer !important;
}

.sg-thread-collapsed:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* ── Message detail toolbar (Archive, Delete, etc.) ── */
.sg-message-toolbar,
.sg-mail-detail md-toolbar {
  background-color: var(--gmail-bg-primary) !important;
  border-bottom: 1px solid var(--gmail-border-default) !important;
  color: var(--gmail-text-primary) !important;
  box-shadow: none !important;
}

.sg-message-toolbar .md-button,
.sg-mail-detail md-toolbar .md-button {
  border-radius: var(--gmail-radius-full) !important;
  color: var(--gmail-icon-default) !important;
}

.sg-message-toolbar .md-button:hover {
  background-color: var(--gmail-bg-hover) !important;
}


/* === Compose Window (Phase 6) === */

/* ── Compose Dialog: floating bottom-right ── */
md-dialog.sg-compose,
.sg-compose-dialog,
[sg-compose-window],
.compose-window {
  position: fixed !important;
  bottom: 0 !important;
  right: var(--gmail-space-xxl) !important;
  width: var(--gmail-compose-width) !important;
  max-width: calc(100vw - 200px) !important;
  min-height: var(--gmail-compose-height) !important;
  height: auto !important;
  border-radius: var(--gmail-radius-md) var(--gmail-radius-md) 0 0 !important;
  box-shadow: var(--gmail-shadow-lg) !important;
  margin: 0 !important;
  overflow: hidden !important;
  z-index: 9999 !important;
  display: flex !important;
  flex-direction: column !important;
}

/* ── Compose Header (dark bar) ── */
md-dialog.sg-compose md-toolbar,
.sg-compose-dialog .compose-header,
.compose-window .compose-toolbar,
[sg-compose-window] md-toolbar {
  background-color: var(--gmail-text-primary) !important;
  color: var(--gmail-text-on-primary) !important;
  height: 40px !important;
  min-height: 40px !important;
  max-height: 40px !important;
  font-size: var(--gmail-font-base) !important;
  font-weight: var(--gmail-weight-medium) !important;
  border-radius: var(--gmail-radius-md) var(--gmail-radius-md) 0 0 !important;
  padding: 0 var(--gmail-space-sm) !important;
  cursor: pointer !important;
  flex-shrink: 0 !important;
}

md-dialog.sg-compose md-toolbar .md-toolbar-tools,
.sg-compose-dialog .compose-header .md-toolbar-tools {
  height: 40px !important;
  min-height: 40px !important;
  max-height: 40px !important;
  padding: 0 var(--gmail-space-sm) !important;
  color: var(--gmail-text-on-primary) !important;
}

md-dialog.sg-compose md-toolbar md-icon,
.sg-compose-dialog .compose-header md-icon {
  color: rgba(255,255,255,0.7) !important;
  font-size: 18px !important;
}

md-dialog.sg-compose md-toolbar md-icon:hover,
.sg-compose-dialog .compose-header md-icon:hover {
  color: var(--gmail-text-on-primary) !important;
}

/* Title in compose header */
md-dialog.sg-compose md-toolbar h2,
md-dialog.sg-compose md-toolbar .compose-title,
.sg-compose-dialog .compose-header .title {
  font-size: var(--gmail-font-sm) !important;
  font-weight: var(--gmail-weight-medium) !important;
  color: var(--gmail-text-on-primary) !important;
}

/* ── Compose Body Area ── */
md-dialog.sg-compose md-dialog-content,
.sg-compose-dialog .compose-body,
.compose-window .compose-content {
  padding: 0 !important;
  flex: 1 !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
  background-color: var(--gmail-bg-primary) !important;
}

/* ── To / Cc / Bcc fields ── */
.sg-compose-dialog .sg-recipient-field,
.sg-compose-dialog .to-field,
.sg-compose-dialog .cc-field,
.sg-compose-dialog .bcc-field,
md-dialog.sg-compose .sg-recipient,
md-dialog.sg-compose md-chips {
  border-bottom: 1px solid var(--gmail-border-default) !important;
  border-top: none !important;
  padding: var(--gmail-space-xs) var(--gmail-space-base) !important;
  min-height: 40px !important;
  display: flex !important;
  align-items: center !important;
  background-color: var(--gmail-bg-primary) !important;
  flex-shrink: 0 !important;
}

.sg-compose-dialog .sg-recipient-label,
md-dialog.sg-compose .field-label {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
  min-width: 24px !important;
  margin-right: var(--gmail-space-sm) !important;
  flex-shrink: 0 !important;
}

md-dialog.sg-compose md-chips .md-chips {
  box-shadow: none !important;
  padding: 0 !important;
}

md-dialog.sg-compose md-chips md-chip {
  background-color: var(--gmail-bg-tertiary) !important;
  color: var(--gmail-text-primary) !important;
  border-radius: var(--gmail-radius-pill) !important;
  font-size: var(--gmail-font-sm) !important;
  height: 24px !important;
  line-height: 24px !important;
  padding: 0 var(--gmail-space-sm) !important;
}

md-dialog.sg-compose md-chips md-chip md-icon {
  font-size: 16px !important;
  color: var(--gmail-text-secondary) !important;
}

/* ── Subject Field ── */
.sg-compose-dialog .sg-subject-field,
md-dialog.sg-compose input[ng-model*="subject"],
md-dialog.sg-compose input[placeholder*="ubject"] {
  border-bottom: 1px solid var(--gmail-border-default) !important;
  border-top: none !important;
  border-left: none !important;
  border-right: none !important;
  outline: none !important;
  padding: var(--gmail-space-sm) var(--gmail-space-base) !important;
  font-size: var(--gmail-font-base) !important;
  font-weight: var(--gmail-weight-medium) !important;
  font-family: var(--gmail-font-primary) !important;
  color: var(--gmail-text-primary) !important;
  background-color: var(--gmail-bg-primary) !important;
  width: 100% !important;
  flex-shrink: 0 !important;
  box-shadow: none !important;
}

.sg-compose-dialog .sg-subject-field::placeholder,
md-dialog.sg-compose input[ng-model*="subject"]::placeholder {
  color: var(--gmail-text-tertiary) !important;
}

/* ── Rich Text Editor / Textarea ── */
.sg-compose-dialog .sg-editor,
.sg-compose-dialog .ck-editor,
.sg-compose-dialog .ck-content,
md-dialog.sg-compose .ck-editor__editable,
md-dialog.sg-compose textarea,
md-dialog.sg-compose .text-editor {
  padding: var(--gmail-space-base) !important;
  font-family: var(--gmail-font-primary) !important;
  font-size: var(--gmail-font-sm) !important;
  line-height: var(--gmail-lh-normal) !important;
  color: var(--gmail-text-primary) !important;
  min-height: 200px !important;
  flex: 1 !important;
  border: none !important;
  outline: none !important;
  resize: none !important;
  background-color: var(--gmail-bg-primary) !important;
}

/* CKEditor toolbar */
.sg-compose-dialog .ck-toolbar,
md-dialog.sg-compose .ck-toolbar {
  border: none !important;
  border-bottom: 1px solid var(--gmail-border-default) !important;
  background-color: var(--gmail-bg-primary) !important;
}

.sg-compose-dialog .ck-toolbar .ck-button,
md-dialog.sg-compose .ck-toolbar .ck-button {
  border-radius: var(--gmail-radius-sm) !important;
  color: var(--gmail-icon-default) !important;
}

.sg-compose-dialog .ck-toolbar .ck-button:hover,
.sg-compose-dialog .ck-toolbar .ck-button.ck-on {
  background-color: var(--gmail-bg-hover) !important;
  color: var(--gmail-text-primary) !important;
}

/* ── Bottom Actions Bar (Send + Formatting toolbar) ── */
.sg-compose-dialog .compose-actions,
.sg-compose-dialog .sg-format-toolbar,
md-dialog.sg-compose md-dialog-actions,
.compose-window .compose-footer {
  border-top: 1px solid var(--gmail-border-default) !important;
  padding: var(--gmail-space-sm) var(--gmail-space-base) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  background-color: var(--gmail-bg-primary) !important;
  flex-shrink: 0 !important;
}

/* Send button */
.sg-compose-dialog .sg-send-button,
md-dialog.sg-compose [ng-click*="send"],
md-dialog.sg-compose .send-button {
  background-color: #0b57d0 !important;
  color: var(--gmail-text-on-primary) !important;
  border-radius: var(--gmail-radius-pill) !important;
  padding: 0 var(--gmail-space-xl) !important;
  height: 36px !important;
  line-height: 36px !important;
  font-weight: var(--gmail-weight-medium) !important;
  font-size: var(--gmail-font-sm) !important;
  text-transform: none !important;
  letter-spacing: var(--gmail-ls-wide) !important;
  box-shadow: none !important;
}

.sg-compose-dialog .sg-send-button:hover,
md-dialog.sg-compose [ng-click*="send"]:hover {
  background-color: #0a4bbf !important;
  box-shadow: var(--gmail-shadow-sm) !important;
}

/* Formatting icons in toolbar */
.sg-format-toolbar .md-button,
.compose-actions .md-icon-button {
  color: var(--gmail-icon-default) !important;
  border-radius: var(--gmail-radius-full) !important;
  width: 36px !important;
  height: 36px !important;
  padding: 0 !important;
  min-width: 36px !important;
  line-height: 36px !important;
}

.sg-format-toolbar .md-button:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* Delete / discard button */
.sg-compose-dialog .sg-discard-button,
md-dialog.sg-compose [ng-click*="delete"],
md-dialog.sg-compose [ng-click*="close"] {
  color: var(--gmail-icon-default) !important;
  border-radius: var(--gmail-radius-full) !important;
}

/* ── Minimized compose ── */
md-dialog.sg-compose.minimized,
.sg-compose-dialog.minimized {
  height: 40px !important;
  min-height: 40px !important;
  overflow: hidden !important;
}

/* ── Maximized compose (full-screen) ── */
md-dialog.sg-compose.maximized,
.sg-compose-dialog.maximized {
  width: calc(100vw - 400px) !important;
  height: calc(100vh - 64px) !important;
  top: var(--gmail-header-height) !important;
  right: var(--gmail-space-xxl) !important;
  border-radius: var(--gmail-radius-md) !important;
}


/* === Login Page (Phase 7) === */

/* ── Login Page Background ── */
.sg-login,
#loginPage,
.login-page,
[id*="login"],
[class*="login-page"],
body.sogo-login {
  background-color: var(--gmail-bg-secondary) !important;
  font-family: var(--gmail-font-primary) !important;
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
}

/* ── Login Card ── */
.sg-login md-card,
.sg-login .login-card,
#loginPage md-card,
.login-form-container {
  border-radius: var(--gmail-radius-lg) !important;
  box-shadow: var(--gmail-shadow-sm) !important;
  background-color: var(--gmail-bg-primary) !important;
  max-width: 450px !important;
  width: 100% !important;
  padding: var(--gmail-space-xxl) var(--gmail-space-xl) !important;
  border: 1px solid var(--gmail-border-default) !important;
}

/* ── Logo / Branding ── */
.sg-login .sg-logo,
.sg-login .login-logo,
#loginPage .logo,
.login-form-container .app-title {
  text-align: center !important;
  margin-bottom: var(--gmail-space-xl) !important;
}

.sg-login .sg-logo img,
#loginPage .logo img {
  max-width: 100px !important;
  height: auto !important;
}

/* App name heading */
.sg-login h1,
.sg-login .app-name,
#loginPage h1 {
  font-family: var(--gmail-font-display) !important;
  font-size: 24px !important;
  font-weight: var(--gmail-weight-regular) !important;
  color: var(--gmail-text-primary) !important;
  text-align: center !important;
  margin: 0 0 var(--gmail-space-xs) 0 !important;
}

.sg-login .login-subtitle,
#loginPage .subtitle {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
  text-align: center !important;
  margin-bottom: var(--gmail-space-xl) !important;
}

/* ── Input Fields ── */
.sg-login input[type="text"],
.sg-login input[type="password"],
.sg-login input[type="email"],
#loginPage input[type="text"],
#loginPage input[type="password"] {
  border: 1px solid var(--gmail-border-default) !important;
  border-radius: var(--gmail-radius-sm) !important;
  padding: var(--gmail-space-md) var(--gmail-space-base) !important;
  font-size: var(--gmail-font-base) !important;
  font-family: var(--gmail-font-primary) !important;
  color: var(--gmail-text-primary) !important;
  background-color: var(--gmail-bg-primary) !important;
  width: 100% !important;
  outline: none !important;
  transition: border-color var(--gmail-transition-fast),
              box-shadow var(--gmail-transition-fast) !important;
}

.sg-login input:focus,
#loginPage input:focus {
  border-color: var(--gmail-border-focus) !important;
  box-shadow: 0 0 0 1px var(--gmail-border-focus) !important;
  outline: none !important;
}

.sg-login input::placeholder,
#loginPage input::placeholder {
  color: var(--gmail-text-tertiary) !important;
}

/* Angular Material form fields on login */
.sg-login md-input-container,
#loginPage md-input-container {
  width: 100% !important;
  margin-bottom: var(--gmail-space-base) !important;
  padding: 0 !important;
}

.sg-login md-input-container label,
#loginPage md-input-container label {
  color: var(--gmail-text-secondary) !important;
  font-size: var(--gmail-font-base) !important;
}

.sg-login md-input-container.md-input-focused label,
#loginPage md-input-container.md-input-focused label {
  color: var(--gmail-border-focus) !important;
}

.sg-login md-input-container .md-input,
#loginPage md-input-container .md-input {
  border-color: var(--gmail-border-default) !important;
  color: var(--gmail-text-primary) !important;
  font-size: var(--gmail-font-base) !important;
}

.sg-login md-input-container.md-input-focused .md-input,
#loginPage md-input-container.md-input-focused .md-input {
  border-color: var(--gmail-border-focus) !important;
}

/* ── Login Button ── */
.sg-login .md-button.md-primary.md-raised,
#loginPage .md-button.md-primary.md-raised,
.sg-login button[type="submit"],
#loginPage .login-button {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
  border-radius: var(--gmail-radius-sm) !important;
  text-transform: none !important;
  font-weight: var(--gmail-weight-medium) !important;
  font-size: var(--gmail-font-base) !important;
  height: 40px !important;
  width: 100% !important;
  margin-top: var(--gmail-space-base) !important;
  letter-spacing: var(--gmail-ls-wide) !important;
  box-shadow: none !important;
  transition: background-color var(--gmail-transition-fast),
              box-shadow var(--gmail-transition-fast) !important;
}

.sg-login .md-button.md-primary.md-raised:hover,
#loginPage .login-button:hover {
  background-color: #1765cc !important;
  box-shadow: var(--gmail-shadow-sm) !important;
}

/* ── Error messages ── */
.sg-login .error-message,
#loginPage .error,
.sg-login md-input-container.md-input-invalid .md-input-message-animation {
  color: var(--gmail-text-error) !important;
  font-size: var(--gmail-font-sm) !important;
  margin-top: var(--gmail-space-xxs) !important;
}

/* ── Footer / "Forgot password" link ── */
.sg-login .login-footer,
#loginPage .login-footer {
  text-align: center !important;
  margin-top: var(--gmail-space-base) !important;
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
}

.sg-login .login-footer a,
#loginPage .login-footer a {
  color: var(--gmail-text-link) !important;
  text-decoration: none !important;
}

.sg-login .login-footer a:hover {
  text-decoration: underline !important;
}

/* ── Language selector on login ── */
.sg-login .language-selector,
#loginPage .language-select {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
  text-align: center !important;
  margin-top: var(--gmail-space-xl) !important;
}


/* === Calendar Module (Phase 8) === */

/* ── Calendar Container ── */
.sg-calendar,
[module="scheduler"],
.scheduler-view,
#scheduler {
  background-color: var(--gmail-bg-primary) !important;
  font-family: var(--gmail-font-primary) !important;
}

/* ── Calendar Toolbar ── */
.sg-calendar md-toolbar,
[module="scheduler"] md-toolbar {
  background-color: var(--gmail-bg-primary) !important;
  color: var(--gmail-text-primary) !important;
  box-shadow: var(--gmail-shadow-header) !important;
}

.sg-calendar md-toolbar md-icon,
[module="scheduler"] md-toolbar md-icon {
  color: var(--gmail-icon-default) !important;
}

/* ── Mini Calendar (month picker) ── */
.sg-calendar .sg-month-picker,
.sg-calendar .mini-calendar,
.calendar-mini {
  background-color: var(--gmail-bg-primary) !important;
}

.sg-calendar .mini-calendar .day-header {
  font-size: var(--gmail-font-xs) !important;
  color: var(--gmail-text-secondary) !important;
  font-weight: var(--gmail-weight-medium) !important;
}

.sg-calendar .mini-calendar .day-number,
.calendar-mini .day {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-primary) !important;
  border-radius: var(--gmail-radius-full) !important;
  width: 28px !important;
  height: 28px !important;
  line-height: 28px !important;
  text-align: center !important;
  cursor: pointer !important;
  transition: background-color var(--gmail-transition-fast) !important;
}

.sg-calendar .mini-calendar .day-number:hover,
.calendar-mini .day:hover {
  background-color: var(--gmail-bg-hover) !important;
}

.sg-calendar .mini-calendar .day-number.today,
.calendar-mini .day.today {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
  font-weight: var(--gmail-weight-bold) !important;
}

.sg-calendar .mini-calendar .day-number.selected,
.calendar-mini .day.selected {
  background-color: var(--gmail-bg-active) !important;
  color: var(--gmail-text-link) !important;
}

/* ── Calendar Grid / Main View ── */
.sg-calendar .calendar-grid,
.sg-calendar .week-view,
.sg-calendar .month-view,
.sg-calendar .day-view {
  background-color: var(--gmail-bg-primary) !important;
  border: 1px solid var(--gmail-border-default) !important;
  border-radius: var(--gmail-radius-md) !important;
}

/* Day/hour grid lines */
.sg-calendar .time-slot,
.sg-calendar .day-column {
  border-right: 1px solid var(--gmail-border-default) !important;
  border-bottom: 1px solid var(--gmail-border-default) !important;
}

/* Time labels */
.sg-calendar .time-label {
  font-size: var(--gmail-font-xs) !important;
  color: var(--gmail-text-tertiary) !important;
}

/* Column headers (day names + dates) */
.sg-calendar .column-header,
.sg-calendar .day-header-cell {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-secondary) !important;
  font-weight: var(--gmail-weight-regular) !important;
  padding: var(--gmail-space-xs) !important;
  text-align: center !important;
  border-bottom: 1px solid var(--gmail-border-default) !important;
}

.sg-calendar .column-header.today,
.sg-calendar .day-header-cell.today {
  color: #1a73e8 !important;
}

.sg-calendar .column-header .date-number.today {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
  border-radius: var(--gmail-radius-full) !important;
  width: 36px !important;
  height: 36px !important;
  line-height: 36px !important;
  display: inline-block !important;
}

/* ── Calendar Events ── */
.sg-calendar .calendar-event,
.sg-calendar .event-block,
[sg-calendar-event] {
  border-radius: var(--gmail-radius-sm) !important;
  font-size: var(--gmail-font-xs) !important;
  font-weight: var(--gmail-weight-medium) !important;
  padding: 2px var(--gmail-space-xs) !important;
  overflow: hidden !important;
  cursor: pointer !important;
  transition: box-shadow var(--gmail-transition-fast) !important;
}

.sg-calendar .calendar-event:hover {
  box-shadow: var(--gmail-shadow-sm) !important;
  z-index: 2 !important;
}

/* Default event color (blue) */
.sg-calendar .calendar-event.default-color {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
}

/* ── Calendar Sidebar (calendar list) ── */
.sg-calendar md-sidenav,
.sg-calendar .calendar-list {
  background-color: var(--gmail-bg-primary) !important;
}

.sg-calendar .calendar-list-item {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-primary) !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  gap: var(--gmail-space-sm) !important;
  cursor: pointer !important;
  padding: 0 var(--gmail-space-base) !important;
  border-radius: var(--gmail-radius-sm) !important;
}

.sg-calendar .calendar-list-item:hover {
  background-color: var(--gmail-bg-hover) !important;
}

/* Calendar color dot */
.sg-calendar .calendar-color-dot {
  width: 12px !important;
  height: 12px !important;
  border-radius: var(--gmail-radius-full) !important;
  flex-shrink: 0 !important;
}

/* ── Event detail popup ── */
.sg-calendar md-card.event-detail,
.sg-calendar .event-popup {
  border-radius: var(--gmail-radius-md) !important;
  box-shadow: var(--gmail-shadow-md) !important;
  background-color: var(--gmail-bg-primary) !important;
  padding: var(--gmail-space-base) !important;
}

.sg-calendar .event-popup h3,
.sg-calendar .event-detail .event-title {
  font-size: var(--gmail-font-base) !important;
  font-weight: var(--gmail-weight-medium) !important;
  color: var(--gmail-text-primary) !important;
}

/* ── New event FAB ── */
.sg-calendar .md-fab,
[module="scheduler"] .md-fab {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
}


/* === Contacts / Address Book Module (Phase 8) === */

/* ── Contacts Container ── */
.sg-contacts,
[module="addressbook"],
.addressbook-view,
#contacts {
  background-color: var(--gmail-bg-primary) !important;
  font-family: var(--gmail-font-primary) !important;
}

/* ── Contacts Toolbar ── */
.sg-contacts md-toolbar,
[module="addressbook"] md-toolbar {
  background-color: var(--gmail-bg-primary) !important;
  color: var(--gmail-text-primary) !important;
  box-shadow: var(--gmail-shadow-header) !important;
}

/* ── Contact List ── */
.sg-contacts .sg-contact-list,
.addressbook-view .contact-list,
[module="addressbook"] md-list {
  background-color: var(--gmail-bg-primary) !important;
  border-right: 1px solid var(--gmail-border-default) !important;
}

/* Individual contact row */
.sg-contacts md-list-item,
.sg-contact-list md-list-item,
.contact-list md-list-item {
  height: 56px !important;
  min-height: 56px !important;
  border-bottom: none !important;
  padding: 0 var(--gmail-space-base) !important;
  cursor: pointer !important;
  transition: background-color var(--gmail-transition-fast) !important;
}

.sg-contacts md-list-item:hover,
.sg-contact-list md-list-item:hover {
  background-color: var(--gmail-bg-hover) !important;
}

.sg-contacts md-list-item.selected,
.sg-contact-list md-list-item.sg-active {
  background-color: var(--gmail-bg-active) !important;
}

/* Contact avatar in list */
.sg-contact-list sg-avatar,
.sg-contact-list .sg-avatar,
.contact-list .contact-avatar {
  width: 40px !important;
  height: 40px !important;
  min-width: 40px !important;
  border-radius: var(--gmail-radius-full) !important;
  flex-shrink: 0 !important;
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: var(--gmail-font-base) !important;
  font-weight: var(--gmail-weight-medium) !important;
  overflow: hidden !important;
  margin-right: var(--gmail-space-base) !important;
}

.sg-contact-list sg-avatar img,
.sg-contact-list .sg-avatar img {
  border-radius: var(--gmail-radius-full) !important;
  width: 40px !important;
  height: 40px !important;
}

/* Contact name in list */
.sg-contact-list .sg-contact-name,
.contact-list .contact-name {
  font-size: var(--gmail-font-sm) !important;
  font-weight: var(--gmail-weight-medium) !important;
  color: var(--gmail-text-primary) !important;
}

/* Contact email/phone in list */
.sg-contact-list .sg-contact-info,
.contact-list .contact-email {
  font-size: var(--gmail-font-xs) !important;
  color: var(--gmail-text-secondary) !important;
}

/* ── Alphabet Index ── */
.sg-contacts .alphabet-index,
.sg-contact-list .index-bar {
  font-size: var(--gmail-font-xs) !important;
  color: var(--gmail-text-secondary) !important;
  font-weight: var(--gmail-weight-medium) !important;
  padding: var(--gmail-space-xs) var(--gmail-space-base) !important;
  background-color: var(--gmail-bg-secondary) !important;
}

/* ── Contact Detail View ── */
.sg-contacts .sg-contact-detail,
.addressbook-view .contact-detail {
  background-color: var(--gmail-bg-primary) !important;
  padding: var(--gmail-space-xl) !important;
}

/* Contact detail header with large avatar */
.sg-contact-detail .sg-contact-header {
  display: flex !important;
  align-items: center !important;
  gap: var(--gmail-space-xl) !important;
  margin-bottom: var(--gmail-space-xl) !important;
}

.sg-contact-detail .sg-large-avatar,
.contact-detail .large-avatar {
  width: 80px !important;
  height: 80px !important;
  border-radius: var(--gmail-radius-full) !important;
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: var(--gmail-font-xl) !important;
  font-weight: var(--gmail-weight-medium) !important;
  flex-shrink: 0 !important;
}

.sg-contact-detail h2,
.contact-detail .contact-full-name {
  font-family: var(--gmail-font-display) !important;
  font-size: var(--gmail-font-xl) !important;
  font-weight: var(--gmail-weight-regular) !important;
  color: var(--gmail-text-primary) !important;
  margin: 0 0 var(--gmail-space-xs) 0 !important;
}

.sg-contact-detail .contact-org,
.contact-detail .organization {
  font-size: var(--gmail-font-base) !important;
  color: var(--gmail-text-secondary) !important;
}

/* Contact detail fields */
.sg-contact-detail .sg-field-row,
.contact-detail .field-row {
  display: flex !important;
  gap: var(--gmail-space-xl) !important;
  padding: var(--gmail-space-sm) 0 !important;
  border-bottom: 1px solid var(--gmail-border-default) !important;
  font-size: var(--gmail-font-sm) !important;
}

.sg-contact-detail .field-label {
  color: var(--gmail-text-secondary) !important;
  min-width: 80px !important;
  flex-shrink: 0 !important;
}

.sg-contact-detail .field-value {
  color: var(--gmail-text-primary) !important;
}

.sg-contact-detail .field-value a {
  color: var(--gmail-text-link) !important;
  text-decoration: none !important;
}

/* ── New contact FAB ── */
.sg-contacts .md-fab,
[module="addressbook"] .md-fab {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
}


/* === Modals / Dialogs / Menus === */

/* ── Generic Dialog ── */
md-dialog {
  border-radius: var(--gmail-radius-md) !important;
  box-shadow: var(--gmail-shadow-lg) !important;
  background-color: var(--gmail-bg-primary) !important;
  color: var(--gmail-text-primary) !important;
}

md-dialog md-toolbar {
  background-color: var(--gmail-bg-primary) !important;
  color: var(--gmail-text-primary) !important;
  border-bottom: 1px solid var(--gmail-border-default) !important;
  box-shadow: none !important;
}

md-dialog md-toolbar h2,
md-dialog md-toolbar .md-toolbar-tools h2 {
  font-size: var(--gmail-font-lg) !important;
  font-weight: var(--gmail-weight-regular) !important;
  color: var(--gmail-text-primary) !important;
}

md-dialog md-dialog-content {
  padding: var(--gmail-space-xl) !important;
  color: var(--gmail-text-primary) !important;
  font-size: var(--gmail-font-base) !important;
}

md-dialog md-dialog-actions {
  padding: var(--gmail-space-sm) var(--gmail-space-base) !important;
  border-top: 1px solid var(--gmail-border-default) !important;
  background-color: var(--gmail-bg-primary) !important;
}

/* Dialog action buttons */
md-dialog md-dialog-actions .md-button {
  border-radius: var(--gmail-radius-pill) !important;
  font-weight: var(--gmail-weight-medium) !important;
  text-transform: none !important;
  padding: 0 var(--gmail-space-xl) !important;
  height: 36px !important;
  line-height: 36px !important;
}

md-dialog md-dialog-actions .md-button.md-primary {
  color: var(--gmail-text-link) !important;
}

md-dialog md-dialog-actions .md-button.md-primary.md-raised {
  background-color: #1a73e8 !important;
  color: var(--gmail-text-on-primary) !important;
}

/* Backdrop / overlay */
md-backdrop {
  background-color: rgba(32, 33, 36, 0.4) !important;
}

/* ── Dropdown Menus ── */
md-menu-content,
.md-open-menu-container {
  background-color: var(--gmail-bg-primary) !important;
  border-radius: var(--gmail-radius-md) !important;
  box-shadow: var(--gmail-shadow-md) !important;
  padding: var(--gmail-space-xs) 0 !important;
  min-width: 200px !important;
}

md-menu-item {
  height: 40px !important;
  min-height: 40px !important;
  padding: 0 var(--gmail-space-base) !important;
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-primary) !important;
  cursor: pointer !important;
  transition: background-color var(--gmail-transition-fast) !important;
}

md-menu-item:hover,
md-menu-item:focus {
  background-color: var(--gmail-bg-hover) !important;
}

md-menu-item md-icon {
  color: var(--gmail-icon-default) !important;
  font-size: 20px !important;
  margin-right: var(--gmail-space-base) !important;
}

md-menu-divider {
  border-top: 1px solid var(--gmail-border-default) !important;
  margin: var(--gmail-space-xs) 0 !important;
}

/* ── Context Menu (right-click) ── */
.sg-context-menu,
.context-menu {
  background-color: var(--gmail-bg-primary) !important;
  border-radius: var(--gmail-radius-md) !important;
  box-shadow: var(--gmail-shadow-md) !important;
  padding: var(--gmail-space-xs) 0 !important;
  z-index: 9999 !important;
}

.sg-context-menu .menu-item,
.context-menu li {
  padding: var(--gmail-space-sm) var(--gmail-space-base) !important;
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-primary) !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  gap: var(--gmail-space-base) !important;
}

.sg-context-menu .menu-item:hover,
.context-menu li:hover {
  background-color: var(--gmail-bg-hover) !important;
}

.sg-context-menu .menu-item md-icon {
  color: var(--gmail-icon-default) !important;
  font-size: 18px !important;
}

/* ── Snackbar / Toast notifications ── */
md-toast,
.md-toast-content {
  background-color: var(--gmail-text-primary) !important;
  color: var(--gmail-text-on-primary) !important;
  border-radius: var(--gmail-radius-md) !important;
  box-shadow: var(--gmail-shadow-md) !important;
  font-size: var(--gmail-font-sm) !important;
  padding: var(--gmail-space-sm) var(--gmail-space-base) !important;
}

md-toast .md-button {
  color: #8ab4f8 !important;
  font-weight: var(--gmail-weight-medium) !important;
}

/* ── Alert / Confirm dialogs ── */
.sg-alert md-dialog,
.sg-confirm md-dialog {
  max-width: 400px !important;
}

/* ── Select / Dropdown inputs ── */
md-select {
  color: var(--gmail-text-primary) !important;
}

md-select-menu {
  background-color: var(--gmail-bg-primary) !important;
  border-radius: var(--gmail-radius-md) !important;
  box-shadow: var(--gmail-shadow-md) !important;
}

md-select-menu md-option {
  font-size: var(--gmail-font-sm) !important;
  color: var(--gmail-text-primary) !important;
  height: 40px !important;
  padding: 0 var(--gmail-space-base) !important;
}

md-select-menu md-option:hover,
md-select-menu md-option.md-focused {
  background-color: var(--gmail-bg-hover) !important;
}

md-select-menu md-option[selected] {
  color: var(--gmail-text-link) !important;
}

/* ── Bottom Sheet ── */
md-bottom-sheet {
  background-color: var(--gmail-bg-primary) !important;
  border-radius: var(--gmail-radius-lg) var(--gmail-radius-lg) 0 0 !important;
  box-shadow: var(--gmail-shadow-lg) !important;
}

/* ── Tooltip ── */
.md-tooltip {
  background-color: var(--gmail-text-primary) !important;
  color: var(--gmail-text-on-primary) !important;
  font-size: var(--gmail-font-xs) !important;
  border-radius: var(--gmail-radius-sm) !important;
  padding: var(--gmail-space-xs) var(--gmail-space-sm) !important;
}


/* === Custom Scrollbars === */

/* Thin, Gmail-style scrollbars for WebKit browsers */

::-webkit-scrollbar {
  width: 8px !important;
  height: 8px !important;
}

::-webkit-scrollbar-track {
  background: transparent !important;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(32, 33, 36, 0.28) !important;
  border-radius: var(--gmail-radius-pill) !important;
  border: 2px solid transparent !important;
  background-clip: padding-box !important;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(32, 33, 36, 0.5) !important;
}

::-webkit-scrollbar-corner {
  background: transparent !important;
}

/* Scrollbar-specific containers */
md-sidenav::-webkit-scrollbar-thumb,
.sg-folder-list::-webkit-scrollbar-thumb {
  background-color: rgba(32, 33, 36, 0.2) !important;
}

.sg-mail-list::-webkit-scrollbar-thumb,
md-virtual-repeat-container::-webkit-scrollbar-thumb {
  background-color: rgba(32, 33, 36, 0.25) !important;
}

/* Firefox scrollbar support */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(32, 33, 36, 0.28) transparent;
}


/* === Transitions & Motion === */

/* Smooth transitions on interactive elements */
.md-button,
md-list-item,
md-menu-item,
md-sidenav md-list-item {
  transition: background-color var(--gmail-transition-fast),
              color var(--gmail-transition-fast),
              box-shadow var(--gmail-transition-fast) !important;
}

/* Ripple effect color override */
.md-ripple-container .md-ripple {
  background-color: rgba(26, 115, 232, 0.12) !important;
}

/* Angular Material ink ripple on buttons */
.md-button.md-primary .md-ripple-container .md-ripple {
  background-color: rgba(26, 115, 232, 0.2) !important;
}

/* Sidenav open/close transition */
md-sidenav {
  transition: width 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Search field expand */
md-toolbar md-autocomplete,
md-toolbar .sg-search-field {
  transition: background-color 0.2s ease,
              box-shadow 0.2s ease,
              width 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Message row hover elevation */
.sg-mail-list md-list-item {
  transition: box-shadow 0.08s ease !important;
}

/* Star icon pop */
.sg-mail-list .sg-star {
  transition: color var(--gmail-transition-fast),
              transform 0.15s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.sg-mail-list .sg-star:hover {
  transform: scale(1.2) !important;
}

.sg-mail-list .sg-star.active {
  transform: scale(1.1) !important;
}

/* FAB scale on hover */
.md-button.md-fab {
  transition: box-shadow var(--gmail-transition-normal),
              background-color var(--gmail-transition-normal),
              transform 0.15s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.md-button.md-fab:hover {
  transform: scale(1.02) !important;
}

/* Dialog enter/leave */
md-dialog {
  animation: gmail-dialog-in 0.15s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

@keyframes gmail-dialog-in {
  from {
    opacity: 0;
    transform: scale(0.97) translateY(8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Toast slide-in */
md-toast {
  animation: gmail-toast-in 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

@keyframes gmail-toast-in {
  from {
    opacity: 0;
    transform: translateY(100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}


/* === Dark Mode — Full Coverage (Phase 9) ===
 *
 * Activated by EITHER:
 *   1. OS system preference:  @media (prefers-color-scheme: dark)
 *   2. Manual toggle class:   <body class="sg-dark"> or <html data-theme="dark">
 *
 * Manual toggle injection (run in browser console, or add to custom-sogo.js):
 *   document.body.classList.toggle('sg-dark');
 *
 * To persist the preference, use the snippet in custom-sogo.js.
 * ========================================================================== */

/* ── Dark Mode Tokens ──────────────────────────────────────────────────────── */

@media (prefers-color-scheme: dark) { :root {
  --gmail-bg-primary:      #202124;
  --gmail-bg-secondary:    #191c1f;
  --gmail-bg-tertiary:     #35373a;
  --gmail-bg-hover:        rgba(255,255,255,0.08);
  --gmail-bg-active:       #1e3a5f;
  --gmail-bg-compose-btn:  #1e3a5f;

  --gmail-text-primary:    #e8eaed;
  --gmail-text-secondary:  #9aa0a6;
  --gmail-text-tertiary:   #5f6368;
  --gmail-text-link:       #8ab4f8;
  --gmail-text-on-primary: #202124;
  --gmail-text-error:      #f28b82;

  --gmail-border-default:  #3c4043;
  --gmail-border-focus:    #8ab4f8;

  --gmail-icon-default:    #9aa0a6;
  --gmail-icon-active:     #8ab4f8;
  --gmail-icon-star:       #fdd663;
  --gmail-icon-important:  #fdd663;

  --gmail-unread-bg:       #202124;
  --gmail-read-bg:         #1a1d21;

  --gmail-shadow-header: 0 1px 0 0 #3c4043;
  --gmail-shadow-sm:     0 1px 2px rgba(0,0,0,0.6), 0 1px 3px rgba(0,0,0,0.4);
  --gmail-shadow-md:     0 1px 3px rgba(0,0,0,0.6), 0 4px 8px rgba(0,0,0,0.4);
  --gmail-shadow-lg:     0 4px 8px rgba(0,0,0,0.6), 0 8px 16px rgba(0,0,0,0.4);
}}

/* Manual class: body.sg-dark or html[data-theme="dark"] */
body.sg-dark,
html[data-theme="dark"] body,
html[data-theme="dark"] {
  --gmail-bg-primary:      #202124;
  --gmail-bg-secondary:    #191c1f;
  --gmail-bg-tertiary:     #35373a;
  --gmail-bg-hover:        rgba(255,255,255,0.08);
  --gmail-bg-active:       #1e3a5f;
  --gmail-bg-compose-btn:  #1e3a5f;

  --gmail-text-primary:    #e8eaed;
  --gmail-text-secondary:  #9aa0a6;
  --gmail-text-tertiary:   #5f6368;
  --gmail-text-link:       #8ab4f8;
  --gmail-text-on-primary: #202124;
  --gmail-text-error:      #f28b82;

  --gmail-border-default:  #3c4043;
  --gmail-border-focus:    #8ab4f8;

  --gmail-icon-default:    #9aa0a6;
  --gmail-icon-active:     #8ab4f8;
  --gmail-icon-star:       #fdd663;
  --gmail-icon-important:  #fdd663;

  --gmail-unread-bg:       #202124;
  --gmail-read-bg:         #1a1d21;

  --gmail-shadow-header: 0 1px 0 0 #3c4043;
  --gmail-shadow-sm:     0 1px 2px rgba(0,0,0,0.6), 0 1px 3px rgba(0,0,0,0.4);
  --gmail-shadow-md:     0 1px 3px rgba(0,0,0,0.6), 0 4px 8px rgba(0,0,0,0.4);
  --gmail-shadow-lg:     0 4px 8px rgba(0,0,0,0.6), 0 8px 16px rgba(0,0,0,0.4);
}

/* ── Shared dark-mode mixin (applied to both triggers) ─────────────────────── */

@media (prefers-color-scheme: dark) { body { color-scheme: dark; }}
body.sg-dark { color-scheme: dark; }

/* ── Global Body & App Shell ── */

@media (prefers-color-scheme: dark) {
  body, .sg-app, [ng-app],
  md-content, .md-default-theme md-content {
    background-color: #191c1f !important;
    color: #e8eaed !important;
  }
}
body.sg-dark,
body.sg-dark .sg-app,
body.sg-dark md-content,
html[data-theme="dark"] body {
  background-color: #191c1f !important;
  color: #e8eaed !important;
}

/* ── Angular Material: override inline theme colors ── */

@media (prefers-color-scheme: dark) {
  .md-default-theme,
  [md-theme="default"] {
    background-color: #202124 !important;
    color: #e8eaed !important;
  }
  /* Angular Material generates md-background-* classes */
  .md-default-theme .md-background-bg,
  .md-background-bg {
    background-color: #202124 !important;
  }
}
body.sg-dark .md-default-theme,
body.sg-dark [md-theme="default"] {
  background-color: #202124 !important;
  color: #e8eaed !important;
}

/* ── Header / Top Bar ── */

@media (prefers-color-scheme: dark) {
  md-toolbar,
  md-toolbar.md-default-theme,
  md-toolbar[md-theme="default"],
  md-toolbar.sg-toolbar-main,
  .sg-top-navbar {
    background-color: #202124 !important;
    color: #e8eaed !important;
    box-shadow: 0 1px 0 0 #3c4043 !important;
  }
  .md-toolbar-tools { color: #e8eaed !important; }

  /* Search bar */
  md-toolbar md-autocomplete,
  md-toolbar .sg-search-field,
  md-toolbar input[type="search"],
  .sg-search-input-container {
    background-color: #35373a !important;
    color: #e8eaed !important;
  }
  md-toolbar md-autocomplete:focus-within,
  md-toolbar .sg-search-field:focus-within,
  .sg-search-input-container:focus-within {
    background-color: #202124 !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.6), 0 1px 3px rgba(0,0,0,0.4) !important;
  }
  md-toolbar md-autocomplete input,
  md-toolbar input[type="search"] {
    color: #e8eaed !important;
  }
  md-toolbar md-autocomplete input::placeholder,
  md-toolbar input[type="search"]::placeholder { color: #9aa0a6 !important; }

  md-toolbar md-icon,
  md-toolbar .md-button md-icon { color: #9aa0a6 !important; }
  md-toolbar .md-button:hover { background-color: rgba(255,255,255,0.08) !important; }

  /* Autocomplete dropdown */
  .md-autocomplete-suggestions-container { background-color: #292a2d !important; }
  .md-autocomplete-suggestions li { color: #e8eaed !important; }
  .md-autocomplete-suggestions li:hover { background-color: rgba(255,255,255,0.08) !important; }
}
body.sg-dark md-toolbar,
body.sg-dark md-toolbar.md-default-theme,
body.sg-dark md-toolbar.sg-toolbar-main,
body.sg-dark .sg-top-navbar {
  background-color: #202124 !important;
  color: #e8eaed !important;
  box-shadow: 0 1px 0 0 #3c4043 !important;
}
body.sg-dark .md-toolbar-tools { color: #e8eaed !important; }
body.sg-dark md-toolbar md-autocomplete,
body.sg-dark md-toolbar .sg-search-field,
body.sg-dark md-toolbar input[type="search"],
body.sg-dark .sg-search-input-container {
  background-color: #35373a !important;
  color: #e8eaed !important;
}
body.sg-dark md-toolbar md-autocomplete:focus-within,
body.sg-dark md-toolbar .sg-search-field:focus-within {
  background-color: #202124 !important;
}
body.sg-dark md-toolbar md-autocomplete input,
body.sg-dark md-toolbar input[type="search"] { color: #e8eaed !important; }
body.sg-dark md-toolbar md-icon,
body.sg-dark md-toolbar .md-button md-icon { color: #9aa0a6 !important; }
body.sg-dark md-toolbar .md-button:hover { background-color: rgba(255,255,255,0.08) !important; }
body.sg-dark .md-autocomplete-suggestions-container { background-color: #292a2d !important; }
body.sg-dark .md-autocomplete-suggestions li { color: #e8eaed !important; }
body.sg-dark .md-autocomplete-suggestions li:hover { background-color: rgba(255,255,255,0.08) !important; }

/* ── Sidebar / Navigation ── */

@media (prefers-color-scheme: dark) {
  md-sidenav, .sg-sidenav, [component="sidenav"] {
    background-color: #202124 !important;
  }
  md-sidenav md-list-item,
  .sg-folder-list md-list-item {
    color: #9aa0a6 !important;
  }
  md-sidenav md-list-item:hover,
  .sg-folder-list md-list-item:hover {
    background-color: rgba(255,255,255,0.08) !important;
  }
  md-sidenav md-list-item.sg-active,
  md-sidenav md-list-item.selected,
  .sg-folder-list .md-active {
    background-color: #1e3a5f !important;
    color: #8ab4f8 !important;
  }
  md-sidenav md-list-item.sg-active md-icon,
  md-sidenav md-list-item.selected md-icon { color: #8ab4f8 !important; }
  md-sidenav md-list-item md-icon,
  .sg-folder-list md-list-item md-icon { color: #9aa0a6 !important; }
  md-sidenav md-divider, .sg-folder-list md-divider { border-top-color: #3c4043 !important; }
  md-sidenav .sg-section-label, .sg-folder-list .group-title { color: #9aa0a6 !important; }

  /* Compose button */
  md-sidenav .md-fab,
  md-sidenav .md-button.md-fab,
  md-sidenav [ng-click*="compose"],
  .sg-compose-fab {
    background-color: #1e3a5f !important;
    color: #8ab4f8 !important;
  }
  md-sidenav .md-fab:hover,
  .sg-compose-fab:hover {
    background-color: #2a4d7a !important;
  }

  /* Quota bar */
  .sg-quota-bar, md-sidenav .quota { color: #5f6368 !important; }
  .sg-quota-bar md-progress-linear .md-bar2 { background-color: #8ab4f8 !important; }
}
body.sg-dark md-sidenav,
body.sg-dark .sg-sidenav { background-color: #202124 !important; }
body.sg-dark md-sidenav md-list-item,
body.sg-dark .sg-folder-list md-list-item { color: #9aa0a6 !important; }
body.sg-dark md-sidenav md-list-item:hover,
body.sg-dark .sg-folder-list md-list-item:hover { background-color: rgba(255,255,255,0.08) !important; }
body.sg-dark md-sidenav md-list-item.sg-active,
body.sg-dark md-sidenav md-list-item.selected,
body.sg-dark .sg-folder-list .md-active {
  background-color: #1e3a5f !important;
  color: #8ab4f8 !important;
}
body.sg-dark md-sidenav md-list-item.sg-active md-icon { color: #8ab4f8 !important; }
body.sg-dark md-sidenav md-list-item md-icon { color: #9aa0a6 !important; }
body.sg-dark md-sidenav md-divider { border-top-color: #3c4043 !important; }
body.sg-dark md-sidenav .md-fab,
body.sg-dark md-sidenav [ng-click*="compose"] {
  background-color: #1e3a5f !important;
  color: #8ab4f8 !important;
}
body.sg-dark md-sidenav .md-fab:hover { background-color: #2a4d7a !important; }

/* ── Message List ── */

@media (prefers-color-scheme: dark) {
  .sg-mail-list, .mailer_mailbox-list,
  md-virtual-repeat-container { background-color: #202124 !important; }
  .sg-mail-list,
  [sg-mail-list] { border-right-color: #3c4043 !important; }

  /* Toolbar above list */
  .sg-toolbar-secondary, .sg-list-toolbar, .mailer_mailbox-toolbar {
    background-color: #202124 !important;
    border-bottom-color: #3c4043 !important;
  }
  .sg-toolbar-secondary md-icon, .sg-list-toolbar md-icon { color: #9aa0a6 !important; }

  /* Message rows */
  .sg-mail-list md-list-item { background-color: #202124 !important; }
  .sg-mail-list md-list-item:hover {
    box-shadow:
      inset 1px 0 0 #3c4043,
      inset -1px 0 0 #3c4043,
      0 0 4px rgba(0,0,0,0.4),
      0 2px 3px rgba(0,0,0,0.3) !important;
  }
  /* Unread */
  .sg-mail-list md-list-item.unread,
  .sg-mail-list .sg-unread { background-color: #202124 !important; }
  .sg-mail-list md-list-item.unread .sg-sender,
  .sg-mail-list md-list-item.unread .sg-subject { color: #e8eaed !important; }
  /* Read */
  .sg-mail-list md-list-item:not(.unread):not(.sg-selected) { background-color: #1a1d21 !important; }
  .sg-mail-list md-list-item:not(.unread) .sg-sender,
  .sg-mail-list md-list-item:not(.unread) .sg-subject { color: #9aa0a6 !important; }
  /* Selected */
  .sg-mail-list md-list-item.sg-selected,
  .sg-mail-list md-list-item.selected { background-color: #1e3a5f !important; }

  /* Snippet, date */
  .sg-mail-list .sg-subject-snippet,
  .sg-mail-list .sg-message-snippet { color: #5f6368 !important; }
  .sg-mail-list .sg-date,
  .sg-mail-list .sg-message-date { color: #9aa0a6 !important; }
  .sg-mail-list md-list-item.unread .sg-date { color: #e8eaed !important; }

  /* Checkbox */
  .sg-mail-list md-checkbox .md-icon { border-color: #9aa0a6 !important; }
  .sg-mail-list md-checkbox.md-checked .md-icon { background-color: #8ab4f8 !important; border-color: #8ab4f8 !important; }

  /* Star */
  .sg-mail-list .sg-star { color: #3c4043 !important; }
  .sg-mail-list .sg-star.active { color: #fdd663 !important; }

  /* Attachment, important */
  .sg-mail-list .sg-attachment { color: #9aa0a6 !important; }
}
body.sg-dark .sg-mail-list,
body.sg-dark .mailer_mailbox-list,
body.sg-dark md-virtual-repeat-container { background-color: #202124 !important; }
body.sg-dark .sg-toolbar-secondary,
body.sg-dark .sg-list-toolbar {
  background-color: #202124 !important;
  border-bottom-color: #3c4043 !important;
}
body.sg-dark .sg-toolbar-secondary md-icon { color: #9aa0a6 !important; }
body.sg-dark .sg-mail-list md-list-item { background-color: #202124 !important; }
body.sg-dark .sg-mail-list md-list-item:not(.unread):not(.sg-selected) { background-color: #1a1d21 !important; }
body.sg-dark .sg-mail-list md-list-item.sg-selected { background-color: #1e3a5f !important; }
body.sg-dark .sg-mail-list md-list-item.unread .sg-sender,
body.sg-dark .sg-mail-list md-list-item.unread .sg-subject { color: #e8eaed !important; }
body.sg-dark .sg-mail-list md-list-item:not(.unread) .sg-sender,
body.sg-dark .sg-mail-list md-list-item:not(.unread) .sg-subject { color: #9aa0a6 !important; }
body.sg-dark .sg-mail-list .sg-subject-snippet { color: #5f6368 !important; }
body.sg-dark .sg-mail-list .sg-date { color: #9aa0a6 !important; }
body.sg-dark .sg-mail-list md-list-item.unread .sg-date { color: #e8eaed !important; }
body.sg-dark .sg-mail-list md-checkbox .md-icon { border-color: #9aa0a6 !important; }
body.sg-dark .sg-mail-list md-checkbox.md-checked .md-icon { background-color: #8ab4f8 !important; border-color: #8ab4f8 !important; }
body.sg-dark .sg-mail-list .sg-star { color: #3c4043 !important; }
body.sg-dark .sg-mail-list .sg-star.active { color: #fdd663 !important; }

/* ── Message Detail / Reading Pane ── */

@media (prefers-color-scheme: dark) {
  .sg-mail-detail, .sg-message-view,
  .mailer_message-view { background-color: #202124 !important; }

  .sg-message-header h2,
  .sg-message-header .subject { color: #e8eaed !important; }
  .sg-message-header .sg-tag, .sg-message-header .sg-label {
    background-color: #35373a !important;
    color: #9aa0a6 !important;
  }

  /* Thread item separator */
  .sg-thread-message, .sg-message-item { border-top-color: #3c4043 !important; }

  /* Sender info */
  .sg-message-sender .sg-sender-name { color: #e8eaed !important; }
  .sg-message-sender .sg-sender-email,
  .sg-message-sender .sg-message-date { color: #9aa0a6 !important; }

  /* Avatar */
  .sg-message-sender sg-avatar,
  .sg-message-sender .sg-avatar,
  .message-sender-info .sg-avatar {
    background-color: #1e3a5f !important;
    color: #8ab4f8 !important;
  }

  /* Body */
  .sg-message-body, .sg-message-content {
    color: #e8eaed !important;
  }
  .sg-message-body a, .sg-message-content a { color: #8ab4f8 !important; }
  .sg-message-body pre, .sg-message-content pre { color: #e8eaed !important; }

  /* Attachment chips */
  .sg-attachment-item {
    background-color: #35373a !important;
    border-color: #3c4043 !important;
    color: #e8eaed !important;
  }
  .sg-attachment-item:hover { background-color: rgba(255,255,255,0.08) !important; }
  .sg-attachment-item md-icon { color: #9aa0a6 !important; }

  /* Reply box */
  .sg-reply-box, .sg-message-reply {
    border-color: #3c4043 !important;
    background-color: #292a2d !important;
    color: #5f6368 !important;
  }
  .sg-reply-box:focus-within, .sg-message-reply:focus-within {
    border-color: #8ab4f8 !important;
    box-shadow: 0 0 0 1px #8ab4f8 !important;
  }

  /* Quick action buttons */
  .sg-message-quick-reply .md-button {
    border-color: #3c4043 !important;
    color: #9aa0a6 !important;
  }
  .sg-message-quick-reply .md-button:hover { background-color: rgba(255,255,255,0.08) !important; }

  /* Detail toolbar */
  .sg-message-toolbar, .sg-mail-detail md-toolbar {
    background-color: #202124 !important;
    border-bottom-color: #3c4043 !important;
  }
  .sg-message-toolbar .md-button { color: #9aa0a6 !important; }
  .sg-message-toolbar .md-button:hover { background-color: rgba(255,255,255,0.08) !important; }
}
body.sg-dark .sg-mail-detail,
body.sg-dark .sg-message-view { background-color: #202124 !important; }
body.sg-dark .sg-message-header h2,
body.sg-dark .sg-message-header .subject { color: #e8eaed !important; }
body.sg-dark .sg-thread-message { border-top-color: #3c4043 !important; }
body.sg-dark .sg-message-sender .sg-sender-name { color: #e8eaed !important; }
body.sg-dark .sg-message-sender .sg-sender-email,
body.sg-dark .sg-message-sender .sg-message-date { color: #9aa0a6 !important; }
body.sg-dark .sg-message-sender sg-avatar,
body.sg-dark .sg-message-sender .sg-avatar {
  background-color: #1e3a5f !important;
  color: #8ab4f8 !important;
}
body.sg-dark .sg-message-body,
body.sg-dark .sg-message-content { color: #e8eaed !important; }
body.sg-dark .sg-message-body a { color: #8ab4f8 !important; }
body.sg-dark .sg-attachment-item {
  background-color: #35373a !important;
  border-color: #3c4043 !important;
  color: #e8eaed !important;
}
body.sg-dark .sg-reply-box {
  border-color: #3c4043 !important;
  background-color: #292a2d !important;
  color: #5f6368 !important;
}
body.sg-dark .sg-message-toolbar { background-color: #202124 !important; border-bottom-color: #3c4043 !important; }
body.sg-dark .sg-message-toolbar .md-button { color: #9aa0a6 !important; }

/* ── Compose Window ── */

@media (prefers-color-scheme: dark) {
  md-dialog.sg-compose,
  .sg-compose-dialog,
  .compose-window {
    box-shadow: 0 4px 8px rgba(0,0,0,0.8), 0 8px 16px rgba(0,0,0,0.6) !important;
  }
  /* Header stays dark (same as light mode dark bar — barely changes) */
  md-dialog.sg-compose md-toolbar,
  .sg-compose-dialog .compose-header {
    background-color: #303134 !important;
  }
  /* Body */
  md-dialog.sg-compose md-dialog-content,
  .sg-compose-dialog .compose-body {
    background-color: #202124 !important;
  }
  /* Fields */
  .sg-compose-dialog .sg-recipient-field,
  md-dialog.sg-compose .sg-recipient,
  md-dialog.sg-compose md-chips {
    border-bottom-color: #3c4043 !important;
    background-color: #202124 !important;
  }
  .sg-compose-dialog .sg-recipient-label { color: #9aa0a6 !important; }
  md-dialog.sg-compose md-chips md-chip {
    background-color: #35373a !important;
    color: #e8eaed !important;
  }
  /* Subject */
  .sg-compose-dialog .sg-subject-field,
  md-dialog.sg-compose input[ng-model*="subject"] {
    border-bottom-color: #3c4043 !important;
    background-color: #202124 !important;
    color: #e8eaed !important;
  }
  /* Editor */
  .sg-compose-dialog .sg-editor,
  .sg-compose-dialog .ck-content,
  md-dialog.sg-compose textarea {
    background-color: #202124 !important;
    color: #e8eaed !important;
  }
  /* CKEditor toolbar */
  .sg-compose-dialog .ck-toolbar,
  md-dialog.sg-compose .ck-toolbar {
    background-color: #292a2d !important;
    border-bottom-color: #3c4043 !important;
  }
  .sg-compose-dialog .ck-toolbar .ck-button { color: #9aa0a6 !important; }
  /* Footer */
  .sg-compose-dialog .compose-actions,
  .sg-compose-dialog .sg-format-toolbar,
  md-dialog.sg-compose md-dialog-actions {
    background-color: #202124 !important;
    border-top-color: #3c4043 !important;
  }
  /* Send button */
  .sg-compose-dialog .sg-send-button,
  md-dialog.sg-compose [ng-click*="send"] {
    background-color: #8ab4f8 !important;
    color: #202124 !important;
  }
  .sg-compose-dialog .sg-send-button:hover,
  md-dialog.sg-compose [ng-click*="send"]:hover {
    background-color: #a8c7fa !important;
  }
  /* Format icon buttons */
  .sg-format-toolbar .md-button { color: #9aa0a6 !important; }
  .sg-format-toolbar .md-button:hover { background-color: rgba(255,255,255,0.08) !important; }
}
body.sg-dark md-dialog.sg-compose md-toolbar,
body.sg-dark .sg-compose-dialog .compose-header { background-color: #303134 !important; }
body.sg-dark md-dialog.sg-compose md-dialog-content,
body.sg-dark .sg-compose-dialog .compose-body { background-color: #202124 !important; }
body.sg-dark md-dialog.sg-compose md-chips { border-bottom-color: #3c4043 !important; background-color: #202124 !important; }
body.sg-dark md-dialog.sg-compose md-chips md-chip { background-color: #35373a !important; color: #e8eaed !important; }
body.sg-dark md-dialog.sg-compose input[ng-model*="subject"] {
  border-bottom-color: #3c4043 !important;
  background-color: #202124 !important;
  color: #e8eaed !important;
}
body.sg-dark md-dialog.sg-compose textarea,
body.sg-dark .sg-compose-dialog .ck-content { background-color: #202124 !important; color: #e8eaed !important; }
body.sg-dark .sg-compose-dialog .ck-toolbar { background-color: #292a2d !important; border-bottom-color: #3c4043 !important; }
body.sg-dark .sg-compose-dialog .sg-format-toolbar,
body.sg-dark md-dialog.sg-compose md-dialog-actions {
  background-color: #202124 !important;
  border-top-color: #3c4043 !important;
}
body.sg-dark .sg-compose-dialog .sg-send-button,
body.sg-dark md-dialog.sg-compose [ng-click*="send"] {
  background-color: #8ab4f8 !important;
  color: #202124 !important;
}

/* ── Login Page ── */

@media (prefers-color-scheme: dark) {
  .sg-login, #loginPage, .login-page {
    background-color: #191c1f !important;
  }
  .sg-login md-card, #loginPage md-card, .login-form-container {
    background-color: #202124 !important;
    border-color: #3c4043 !important;
  }
  .sg-login h1, .sg-login .app-name, #loginPage h1 { color: #e8eaed !important; }
  .sg-login .login-subtitle { color: #9aa0a6 !important; }

  .sg-login input[type="text"],
  .sg-login input[type="password"],
  #loginPage input[type="text"],
  #loginPage input[type="password"] {
    background-color: #292a2d !important;
    border-color: #3c4043 !important;
    color: #e8eaed !important;
  }
  .sg-login input:focus, #loginPage input:focus {
    border-color: #8ab4f8 !important;
    box-shadow: 0 0 0 1px #8ab4f8 !important;
  }
  .sg-login input::placeholder { color: #5f6368 !important; }

  .sg-login md-input-container label { color: #9aa0a6 !important; }
  .sg-login md-input-container.md-input-focused label { color: #8ab4f8 !important; }
  .sg-login md-input-container .md-input { border-color: #3c4043 !important; color: #e8eaed !important; }

  .sg-login .md-button.md-primary.md-raised,
  #loginPage .login-button {
    background-color: #8ab4f8 !important;
    color: #202124 !important;
  }
  .sg-login .md-button.md-primary.md-raised:hover { background-color: #a8c7fa !important; }

  .sg-login .error-message, #loginPage .error { color: #f28b82 !important; }
  .sg-login .login-footer { color: #9aa0a6 !important; }
  .sg-login .login-footer a { color: #8ab4f8 !important; }
}
body.sg-dark .sg-login,
body.sg-dark #loginPage { background-color: #191c1f !important; }
body.sg-dark .sg-login md-card,
body.sg-dark .login-form-container {
  background-color: #202124 !important;
  border-color: #3c4043 !important;
}
body.sg-dark .sg-login h1 { color: #e8eaed !important; }
body.sg-dark .sg-login input[type="text"],
body.sg-dark .sg-login input[type="password"] {
  background-color: #292a2d !important;
  border-color: #3c4043 !important;
  color: #e8eaed !important;
}
body.sg-dark .sg-login .md-button.md-primary.md-raised {
  background-color: #8ab4f8 !important;
  color: #202124 !important;
}

/* ── Buttons (dark) ── */

@media (prefers-color-scheme: dark) {
  .md-button.md-primary.md-raised,
  .md-button.md-accent.md-raised {
    background-color: #8ab4f8 !important;
    color: #202124 !important;
  }
  .md-button.md-primary.md-raised:hover { background-color: #a8c7fa !important; }
  .md-button.md-primary:not(.md-raised) { color: #8ab4f8 !important; }
  .md-button:not(.md-raised):not(.md-fab):hover { background-color: rgba(255,255,255,0.08) !important; }
  md-chip, .md-chip { background-color: #35373a !important; color: #e8eaed !important; }
}
body.sg-dark .md-button.md-primary.md-raised,
body.sg-dark .md-button.md-accent.md-raised {
  background-color: #8ab4f8 !important;
  color: #202124 !important;
}
body.sg-dark .md-button.md-primary:not(.md-raised) { color: #8ab4f8 !important; }
body.sg-dark md-chip { background-color: #35373a !important; color: #e8eaed !important; }

/* ── Calendar (dark) ── */

@media (prefers-color-scheme: dark) {
  .sg-calendar, [module="scheduler"] { background-color: #202124 !important; }
  .sg-calendar md-toolbar { background-color: #202124 !important; box-shadow: 0 1px 0 0 #3c4043 !important; }
  .sg-calendar md-toolbar md-icon { color: #9aa0a6 !important; }

  .sg-calendar .mini-calendar, .sg-calendar .sg-month-picker {
    background-color: #202124 !important;
  }
  .sg-calendar .mini-calendar .day-header { color: #9aa0a6 !important; }
  .sg-calendar .mini-calendar .day-number { color: #e8eaed !important; }
  .sg-calendar .mini-calendar .day-number:hover { background-color: rgba(255,255,255,0.08) !important; }
  .sg-calendar .mini-calendar .day-number.today {
    background-color: #8ab4f8 !important;
    color: #202124 !important;
  }
  .sg-calendar .mini-calendar .day-number.selected {
    background-color: #1e3a5f !important;
    color: #8ab4f8 !important;
  }

  .sg-calendar .calendar-grid,
  .sg-calendar .week-view,
  .sg-calendar .month-view {
    background-color: #202124 !important;
    border-color: #3c4043 !important;
  }
  .sg-calendar .time-slot, .sg-calendar .day-column {
    border-right-color: #3c4043 !important;
    border-bottom-color: #3c4043 !important;
  }
  .sg-calendar .time-label { color: #5f6368 !important; }
  .sg-calendar .column-header {
    color: #9aa0a6 !important;
    border-bottom-color: #3c4043 !important;
  }
  .sg-calendar .column-header .date-number.today {
    background-color: #8ab4f8 !important;
    color: #202124 !important;
  }

  .sg-calendar .calendar-list-item { color: #e8eaed !important; }
  .sg-calendar .calendar-list-item:hover { background-color: rgba(255,255,255,0.08) !important; }

  .sg-calendar md-card.event-detail, .sg-calendar .event-popup {
    background-color: #292a2d !important;
    box-shadow: 0 1px 3px rgba(0,0,0,0.6), 0 4px 8px rgba(0,0,0,0.4) !important;
  }
  .sg-calendar .event-popup h3 { color: #e8eaed !important; }

  .sg-calendar .md-fab,
  [module="scheduler"] .md-fab { background-color: #1e3a5f !important; color: #8ab4f8 !important; }
}
body.sg-dark .sg-calendar { background-color: #202124 !important; }
body.sg-dark .sg-calendar md-toolbar { background-color: #202124 !important; box-shadow: 0 1px 0 0 #3c4043 !important; }
body.sg-dark .sg-calendar .mini-calendar { background-color: #202124 !important; }
body.sg-dark .sg-calendar .mini-calendar .day-number { color: #e8eaed !important; }
body.sg-dark .sg-calendar .mini-calendar .day-number.today { background-color: #8ab4f8 !important; color: #202124 !important; }
body.sg-dark .sg-calendar .calendar-grid { background-color: #202124 !important; border-color: #3c4043 !important; }
body.sg-dark .sg-calendar .column-header { color: #9aa0a6 !important; border-bottom-color: #3c4043 !important; }
body.sg-dark .sg-calendar .event-popup { background-color: #292a2d !important; }
body.sg-dark .sg-calendar .md-fab { background-color: #1e3a5f !important; color: #8ab4f8 !important; }

/* ── Contacts (dark) ── */

@media (prefers-color-scheme: dark) {
  .sg-contacts, [module="addressbook"] { background-color: #202124 !important; }
  .sg-contacts md-toolbar { background-color: #202124 !important; box-shadow: 0 1px 0 0 #3c4043 !important; }

  .sg-contacts .sg-contact-list,
  .addressbook-view .contact-list { background-color: #202124 !important; border-right-color: #3c4043 !important; }

  .sg-contacts md-list-item { color: #e8eaed !important; }
  .sg-contacts md-list-item:hover { background-color: rgba(255,255,255,0.08) !important; }
  .sg-contacts md-list-item.selected { background-color: #1e3a5f !important; }
  .sg-contact-list .sg-contact-name { color: #e8eaed !important; }
  .sg-contact-list .sg-contact-info { color: #9aa0a6 !important; }

  .sg-contact-list sg-avatar,
  .sg-contact-list .sg-avatar {
    background-color: #1e3a5f !important;
    color: #8ab4f8 !important;
  }

  .sg-contacts .alphabet-index { background-color: #191c1f !important; color: #9aa0a6 !important; }

  .sg-contact-detail { background-color: #202124 !important; }
  .sg-contact-detail h2 { color: #e8eaed !important; }
  .sg-contact-detail .contact-org { color: #9aa0a6 !important; }
  .sg-contact-detail .sg-field-row { border-bottom-color: #3c4043 !important; }
  .sg-contact-detail .field-label { color: #9aa0a6 !important; }
  .sg-contact-detail .field-value { color: #e8eaed !important; }
  .sg-contact-detail .field-value a { color: #8ab4f8 !important; }
  .sg-contact-detail .sg-large-avatar {
    background-color: #1e3a5f !important;
    color: #8ab4f8 !important;
  }

  .sg-contacts .md-fab,
  [module="addressbook"] .md-fab { background-color: #1e3a5f !important; color: #8ab4f8 !important; }
}
body.sg-dark .sg-contacts { background-color: #202124 !important; }
body.sg-dark .sg-contacts md-toolbar { background-color: #202124 !important; }
body.sg-dark .sg-contact-list sg-avatar { background-color: #1e3a5f !important; color: #8ab4f8 !important; }
body.sg-dark .sg-contact-list .sg-contact-name { color: #e8eaed !important; }
body.sg-dark .sg-contact-list .sg-contact-info { color: #9aa0a6 !important; }
body.sg-dark .sg-contact-detail { background-color: #202124 !important; }
body.sg-dark .sg-contact-detail h2 { color: #e8eaed !important; }
body.sg-dark .sg-contact-detail .sg-large-avatar { background-color: #1e3a5f !important; color: #8ab4f8 !important; }
body.sg-dark .sg-contacts .md-fab { background-color: #1e3a5f !important; color: #8ab4f8 !important; }

/* ── Dialogs, Menus, Toasts (dark) ── */

@media (prefers-color-scheme: dark) {
  md-dialog {
    background-color: #292a2d !important;
    color: #e8eaed !important;
    box-shadow: 0 4px 8px rgba(0,0,0,0.7), 0 8px 16px rgba(0,0,0,0.5) !important;
  }
  md-dialog md-toolbar {
    background-color: #292a2d !important;
    color: #e8eaed !important;
    border-bottom-color: #3c4043 !important;
  }
  md-dialog md-toolbar h2 { color: #e8eaed !important; }
  md-dialog md-dialog-content { color: #e8eaed !important; }
  md-dialog md-dialog-actions {
    background-color: #292a2d !important;
    border-top-color: #3c4043 !important;
  }
  md-dialog md-dialog-actions .md-button.md-primary { color: #8ab4f8 !important; }
  md-dialog md-dialog-actions .md-button.md-primary.md-raised {
    background-color: #8ab4f8 !important;
    color: #202124 !important;
  }
  md-backdrop { background-color: rgba(0,0,0,0.65) !important; }

  /* Dropdown menus */
  md-menu-content, .md-open-menu-container { background-color: #292a2d !important; }
  md-menu-item { color: #e8eaed !important; }
  md-menu-item:hover { background-color: rgba(255,255,255,0.08) !important; }
  md-menu-item md-icon { color: #9aa0a6 !important; }
  md-menu-divider { border-top-color: #3c4043 !important; }

  /* Context menu */
  .sg-context-menu, .context-menu { background-color: #292a2d !important; }
  .sg-context-menu .menu-item, .context-menu li { color: #e8eaed !important; }
  .sg-context-menu .menu-item:hover { background-color: rgba(255,255,255,0.08) !important; }
  .sg-context-menu .menu-item md-icon { color: #9aa0a6 !important; }

  /* Toast */
  md-toast, .md-toast-content {
    background-color: #e8eaed !important;
    color: #202124 !important;
  }
  md-toast .md-button { color: #1a73e8 !important; }

  /* Select */
  md-select-menu { background-color: #292a2d !important; }
  md-select-menu md-option { color: #e8eaed !important; }
  md-select-menu md-option:hover { background-color: rgba(255,255,255,0.08) !important; }
  md-select-menu md-option[selected] { color: #8ab4f8 !important; }

  /* Tooltip */
  .md-tooltip { background-color: #e8eaed !important; color: #202124 !important; }
}
body.sg-dark md-dialog { background-color: #292a2d !important; color: #e8eaed !important; }
body.sg-dark md-dialog md-toolbar { background-color: #292a2d !important; border-bottom-color: #3c4043 !important; }
body.sg-dark md-dialog md-toolbar h2 { color: #e8eaed !important; }
body.sg-dark md-dialog md-dialog-actions { background-color: #292a2d !important; border-top-color: #3c4043 !important; }
body.sg-dark md-dialog md-dialog-actions .md-button.md-primary { color: #8ab4f8 !important; }
body.sg-dark md-menu-content { background-color: #292a2d !important; }
body.sg-dark md-menu-item { color: #e8eaed !important; }
body.sg-dark md-menu-item:hover { background-color: rgba(255,255,255,0.08) !important; }
body.sg-dark md-menu-divider { border-top-color: #3c4043 !important; }
body.sg-dark .sg-context-menu { background-color: #292a2d !important; }
body.sg-dark .sg-context-menu .menu-item { color: #e8eaed !important; }
body.sg-dark md-select-menu { background-color: #292a2d !important; }
body.sg-dark md-select-menu md-option { color: #e8eaed !important; }
body.sg-dark md-select-menu md-option[selected] { color: #8ab4f8 !important; }

/* ── Scrollbars (dark) ── */

@media (prefers-color-scheme: dark) {
  ::-webkit-scrollbar-thumb { background-color: rgba(255,255,255,0.18) !important; }
  ::-webkit-scrollbar-thumb:hover { background-color: rgba(255,255,255,0.32) !important; }
  * { scrollbar-color: rgba(255,255,255,0.18) transparent; }
}
body.sg-dark ::-webkit-scrollbar-thumb { background-color: rgba(255,255,255,0.18) !important; }
body.sg-dark ::-webkit-scrollbar-thumb:hover { background-color: rgba(255,255,255,0.32) !important; }

/* ── Progress indicators (dark) ── */

@media (prefers-color-scheme: dark) {
  md-progress-linear .md-bar { background-color: #3c4043 !important; }
  md-progress-linear .md-bar2 { background-color: #8ab4f8 !important; }
  md-progress-circular { stroke: #8ab4f8 !important; }
}
body.sg-dark md-progress-linear .md-bar { background-color: #3c4043 !important; }
body.sg-dark md-progress-linear .md-bar2 { background-color: #8ab4f8 !important; }

/* ── Ripple (dark) ── */

@media (prefers-color-scheme: dark) {
  .md-ripple-container .md-ripple { background-color: rgba(138,180,248,0.2) !important; }
}
body.sg-dark .md-ripple-container .md-ripple { background-color: rgba(138,180,248,0.2) !important; }

/* ── Focus visible ring (dark) ── */

@media (prefers-color-scheme: dark) {
  :focus-visible {
    outline: 2px solid #8ab4f8 !important;
    outline-offset: 2px !important;
  }
}
body.sg-dark :focus-visible {
  outline: 2px solid #8ab4f8 !important;
  outline-offset: 2px !important;
}

/* ── md-input-container (dark) ── */

@media (prefers-color-scheme: dark) {
  md-input-container label { color: #9aa0a6 !important; }
  md-input-container .md-input {
    color: #e8eaed !important;
    border-color: #3c4043 !important;
  }
  md-input-container.md-input-focused label { color: #8ab4f8 !important; }
  md-input-container.md-input-focused .md-input { border-color: #8ab4f8 !important; }
  md-input-container .md-input::placeholder { color: #5f6368 !important; }
}
body.sg-dark md-input-container label { color: #9aa0a6 !important; }
body.sg-dark md-input-container .md-input { color: #e8eaed !important; border-color: #3c4043 !important; }
body.sg-dark md-input-container.md-input-focused label { color: #8ab4f8 !important; }
body.sg-dark md-input-container.md-input-focused .md-input { border-color: #8ab4f8 !important; }

/* ── Preferences / Settings page (dark) ── */

@media (prefers-color-scheme: dark) {
  .sg-preferences, [module="preferences"] {
    background-color: #202124 !important;
    color: #e8eaed !important;
  }
  .sg-preferences md-card, [module="preferences"] md-card {
    background-color: #292a2d !important;
    color: #e8eaed !important;
  }
  .sg-preferences md-card md-card-title,
  .sg-preferences md-card md-card-content { color: #e8eaed !important; }
  .sg-preferences md-divider { border-top-color: #3c4043 !important; }
}
body.sg-dark .sg-preferences { background-color: #202124 !important; color: #e8eaed !important; }
body.sg-dark .sg-preferences md-card { background-color: #292a2d !important; }

/* ── Dark mode toggle button (inject via custom-sogo.js) ──────────────────── */
/* The toggle button is injected by custom-sogo.js; only styles here */

.sg-dark-toggle {
  position: fixed !important;
  bottom: var(--gmail-space-xxl) !important;
  right: var(--gmail-space-xxl) !important;
  z-index: 10000 !important;
  width: 40px !important;
  height: 40px !important;
  border-radius: var(--gmail-radius-full) !important;
  background-color: var(--gmail-bg-tertiary) !important;
  color: var(--gmail-icon-default) !important;
  border: 1px solid var(--gmail-border-default) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  box-shadow: var(--gmail-shadow-sm) !important;
  transition: box-shadow var(--gmail-transition-normal),
              background-color var(--gmail-transition-normal) !important;
  font-size: 18px !important;
  line-height: 1 !important;
  user-select: none !important;
}

.sg-dark-toggle:hover {
  box-shadow: var(--gmail-shadow-md) !important;
  background-color: var(--gmail-bg-hover) !important;
}

